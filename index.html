<!DOCTYPE html>
<html lang="az">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width-device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
<title id="pageTitle">Qazanc AZ</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap" rel="stylesheet">
<script src="//libtl.com/sdk.js" data-zone="10024800" data-sdk="show_10024800"></script>
<style>
/* --- RÆNG DÆYÄ°ÅÆNLÆRÄ° (VARS) --- */
:root {
  /* YENÄ° Ä°L MODU - LIGHT TEMA (QÄ±rmÄ±zÄ±/AÄŸ) */
  --bg-start: #8b0000; /* TÃ¼nd QÄ±rmÄ±zÄ± */
  --bg-end: #ff1a1a;   /* Parlaq QÄ±rmÄ±zÄ± */
  --card-bg: rgba(255, 255, 255, 0.92); /* YarÄ± ÅÉ™ffaf AÄŸ */
  --card-border: rgba(0, 0, 0, 0.1);
  --text-light: #ffffff;
  --text-dark: #1B1B1B;
  --accent: #ff0000; /* Æsas QÄ±rmÄ±zÄ± */
  --menu-bg: rgba(255, 255, 255, 0.15);
  --progress-bg: rgba(0, 0, 0, 0.08);
  --input-text: #1B1B1B; 
  --modal-bg: rgba(255, 255, 255, 0.95); 

  /* QÄ±rmÄ±zÄ± GradientlÉ™r */
  --btn-gradient-start: #ff416c; 
  --btn-gradient-end: #ff4b2b;   
  --btn-shadow: rgba(255, 0, 0, 0.5); 
  --secondary-btn-gradient-start: #ffc371; 
  --secondary-btn-gradient-end: #ff5f6d; 
  
  /* BildiriÅŸ rÉ™nglÉ™ri */
  --notification-bg: #2ecc71; /* YaÅŸÄ±l */
  --notification-text: #ffffff; 
  
  /* Mega Box RÉ™nglÉ™ri (NarÄ±ncÄ±) */
  --box-bg: #f39c12; 
  --box-border: #e67e22; 
  --box-text: #ffffff;
  --box-ribbon: #e74c3c; 
  --box-shine: rgba(255, 255, 255, 0.5);

  /* Lucky Box RÉ™nglÉ™ri (BÉ™nÃ¶vÅŸÉ™yi) */
  --lucky-bg: #9b59b6;
  --lucky-border: #8e44ad;
  --lucky-ribbon: #f1c40f;
}

/* DARK TEMA (Qara/QÄ±rmÄ±zÄ±) - TOXUNULMUR */
body.dark-theme {
  --bg-start: #1b1b1b; 
  --bg-end: #252525;   
  --card-bg: rgba(45, 45, 45, 0.95); 
  --card-border: rgba(255, 255, 255, 0.1);
  --text-light: #ffffff;
  --text-dark: #f0f0f0;
  --accent: #FF4B2B; 
  --menu-bg: rgba(0, 0, 0, 0.3);
  --progress-bg: rgba(255, 255, 255, 0.15);
  --input-text: #ffffff; 
  --modal-bg: rgba(30, 30, 30, 0.95); 
  --notification-bg: #27ae60; 
  
  /* Mega Box Dark RÉ™nglÉ™ri */
  --box-bg: #d35400; 
  --box-border: #e67e22; 
  --box-ribbon: #c0392b; 

  /* Lucky Box Dark RÉ™nglÉ™ri */
  --lucky-bg: #8e44ad;
  --lucky-border: #9b59b6;
}

/* --- ÃœMUMÄ° STÄ°LLÆR --- */
*{box-sizing:border-box;margin:0;padding:0;}
body{
  font-family:'Inter',sans-serif;
  background:linear-gradient(135deg,var(--bg-start),var(--bg-end));
  background-size:400% 400%;
  animation:bgMove 12s ease infinite;
  color:var(--text-dark);
  min-height:100vh;
  user-select:none;
  -webkit-user-select:none;
  -webkit-tap-highlight-color:transparent;
  transition: background-color 0.5s, color 0.5s; 
}
@keyframes bgMove{
  0%{background-position:0% 50;}
  50%{background-position:100% 50;}
  100%{background-position:0% 50;}
}

.container{max-width:480px;margin:auto;padding:20px;padding-top:10px;} 

/* DÄ°L VÆ TEMA SEÃ‡Ä°MÄ° */
.top-controls {
    display: flex;
    justify-content: space-between; 
    align-items: center;
    margin-bottom: 25px; 
}

.username-navbar-display {
    display: flex;
    align-items: center;
    padding: 6px 0;
    font-weight: 700;
    color: var(--text-light); /* DÃœZÆLÄ°Å: RÉ™ng AÄŸ edildi */
    font-size: 14px; 
    margin-right: 10px;
    opacity: 1; /* Opacity tam gÃ¶rÃ¼nmÉ™li */
    transition: color 0.3s;
}
.username-navbar-display .icon {
    font-size: 16px;
    color: var(--text-light); /* Ä°kon da aÄŸ olsun */
    margin-right: 5px;
}
.username-navbar-display span {
    color: var(--text-light) !important; /* MÉ™tn mÃ¼tlÉ™q aÄŸ olsun */
}

.right-controls {
    display: flex;
    gap: 10px; 
    align-items: center;
    margin-left: auto; 
}

.lang-switcher-container {
    position: relative;
}
.lang-current-btn, .theme-toggle-btn {
    padding: 6px 10px;
    border: 1px solid var(--card-border);
    background: var(--card-bg);
    color: var(--text-dark);
    font-weight: 700;
    cursor: pointer;
    transition: 0.3s;
    border-radius: 10px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    display: flex;
    align-items: center;
    height: 40px; 
}
.lang-current-btn span {
    margin-right: 5px; 
}
.lang-current-btn:hover, .theme-toggle-btn:hover {
    box-shadow: 0 4px 15px rgba(255,0,0,0.2);
}

.theme-icon {
    font-size: 20px;
}

.lang-dropdown {
    position: absolute;
    top: 100%; 
    right: 0;
    margin-top: 5px;
    background: var(--card-bg);
    border-radius: 10px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.2);
    overflow: hidden;
    z-index: 10;
    min-width: 60px;
    display: none;
    backdrop-filter: blur(8px);
    border: 1px solid var(--card-border);
}
.lang-dropdown.show {
    display: block;
}
.lang-dropdown button {
    width: 100%;
    padding: 8px 15px;
    border: none;
    background: none;
    color: var(--text-dark);
    font-weight: 600;
    text-align: center; 
    cursor: pointer;
    transition: background 0.2s;
    display: block; 
}

.lang-dropdown button:hover, .lang-dropdown button.active {
    background: var(--accent);
    color: var(--text-light);
}

.page{display:none;animation:fadeIn .4s ease;}
.page.active{display:block;}
@keyframes fadeIn{from{opacity:0;transform:translateY(10px);}to{opacity:1;transform:translateY(0);}}

/* Balans vÉ™ Kart DizaynÄ± */
.balance-card, .ad-card, .task-card, .referral-card, .market-card{
  background:var(--card-bg);
  border-radius:25px;
  padding:20px 18px;
  margin-bottom:20px;
  box-shadow:0 10px 30px rgba(255,0,0,0.35);
  backdrop-filter:blur(14px);
  text-align:center;
  border:1px solid var(--card-border);
  transition: background-color 0.5s, box-shadow 0.5s;
}
.balance-card h3{font-size:16px;color:var(--accent);margin-bottom:8px;letter-spacing:0.5px;}
.balance-card .amount{font-size:32px;font-weight:700;margin-top:5px;color:var(--text-dark);text-shadow:0 2px 5px rgba(0,0,0,0.1);}
.balance-card .usd{font-size:14px;color:var(--text-dark);opacity:0.7;margin-top:4px;}

/* Market KartÄ± Stili */
.market-card {
    text-align: center;
    padding: 15px;
}
.market-card h2 {
    font-size: 24px;
    color: var(--accent);
    margin-bottom: 25px;
    font-weight: 800;
}

/* YENÄ°LÄ°K: Qutular Ã¼Ã§Ã¼n Grid Sistemi (Yan-yana durmasÄ± Ã¼Ã§Ã¼n) */
.boxes-wrapper {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    justify-content: center;
}

.box-container {
    flex: 1 1 45%; /* Yan-yana dursunlar, yer yoxdursa alt-alta */
    min-width: 140px;
    padding: 15px;
    border-radius: 15px;
    background: rgba(0,0,0,0.03);
    border: 1px solid var(--card-border);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: space-between;
}

.box-item {
    position: relative;
    width: 90px; 
    height: 90px;
    margin: 10px auto;
    border-radius: 12px;
    cursor: pointer;
    transition: transform 0.3s, box-shadow 0.3s, background 0.3s;
    overflow: hidden;
    box-shadow: 0 5px 12px rgba(0,0,0,0.15);
}

.box-item:before {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 45px;
    z-index: 2;
    transition: transform 0.3s;
}

/* MEGA BOX STÄ°LÄ° (NarÄ±ncÄ±) */
#megaBox {
    background: var(--box-bg);
    border: 3px solid var(--box-border);
}
#megaBox:before { content: 'ğŸ'; }
#megaBox.opened { background: var(--accent); transform: scale(1.05); }
#megaBox.opened:before { content: 'âœ¨'; font-size: 55px; animation: pulseGlow 1.5s infinite; }

/* LUCKY BOX STÄ°LÄ° (BÉ™nÃ¶vÅŸÉ™yi) */
#luckyBox {
    background: var(--lucky-bg);
    border: 3px solid var(--lucky-border);
}
#luckyBox:before { content: 'ğŸ”®'; } /* Lucky icon */
#luckyBox.opened { background: #e056fd; transform: scale(1.05); }
#luckyBox.opened:before { content: 'ğŸ€'; font-size: 55px; animation: pulseGlow 1.5s infinite; }


@keyframes pulseGlow {
    0%, 100% { filter: drop-shadow(0 0 5px var(--box-shine)) brightness(1.2); }
    50% { filter: drop-shadow(0 0 10px var(--box-shine)) brightness(1.5); }
}

.box-title {
    font-weight: 700;
    margin-bottom: 5px;
    font-size: 14px;
    color: var(--text-dark);
}

.box-info {
    font-size: 11px;
    color: var(--text-dark);
    opacity: 0.8;
    margin-bottom: 8px;
}
.box-cost {
    font-weight: 700;
    color: var(--accent);
}

.open-box-btn {
    padding: 8px 12px;
    border: none;
    border-radius: 10px;
    font-size: 12px;
    background: linear-gradient(90deg, var(--secondary-btn-gradient-start), var(--secondary-btn-gradient-end)); 
    color: var(--text-light);
    font-weight: 700;
    cursor: pointer;
    transition: 0.3s;
    width: 100%;
}
.open-box-btn:hover:not(.disabled) {
    box-shadow: 0 4px 15px rgba(255,95,109,0.4);
    transform: scale(1.02);
}
.open-box-btn.disabled {
    background: gray !important;
    cursor: not-allowed !important;
    box-shadow: none !important;
    opacity: 0.6;
}

.box-status-msg {
    margin-top: 8px;
    font-size: 11px;
    font-weight: 600;
    color: var(--accent);
    min-height: 2.4em; 
    line-height: 1.2;
}

/* Metod SiyahÄ±sÄ± */
.method-list{
    display:flex;
    flex-wrap:wrap;
    gap:10px;
    margin:12px 0;
    justify-content:space-around;
}
.method{
    flex:1 1 calc(50% - 5px); 
    padding:14px;
    border-radius:14px;
    background:linear-gradient(90deg,var(--btn-gradient-start),var(--btn-gradient-end)); 
    color:var(--text-light);
    text-align:center;
    font-weight:700;
    cursor:pointer;
    transition:0.3s;
    display:flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100px;
    position: relative;
    word-break: break-word; 
    overflow: hidden; 
}
.method:hover{transform:scale(1.03);box-shadow:0 0 10px rgba(0,0,0,0.2);}
.method-logo{
    width: 50px;       
    height: 50px;      
    margin-bottom: 6px;
    border-radius: 8px; 
    object-fit: contain; 
    background-color: #fff;
    padding: 4px; 
    flex-shrink: 0; 
}
.method-logo.bank-logo {
    border-radius: 6px; 
    padding: 2px;
}
.method-text {
    font-size: 14px;
    overflow: hidden;
    text-overflow: ellipsis; 
}
.min-withdraw-label {
    position: absolute;
    bottom: 5px;
    right: 5px;
    font-size: 10px;
    font-weight: 600;
    color: #fff;
    background: rgba(0, 0, 0, 0.4);
    padding: 1px 4px;
    border-radius: 4px;
}
.ad-card{margin-bottom:12px;}
.ad-card h2{font-size:18px;color:var(--text-dark);margin-bottom:6px;}
.ad-card p{margin:4px 0;color:var(--text-dark);font-size:13px;}
.task-card{margin-bottom:10px;}
.task-card h2{font-size:16px;color:var(--text-dark);margin-bottom:4px;}
.task-card p{margin:2px 0;color:var(--text-dark);font-size:12px;}
.task-card button{width:100%;margin-top:8px;padding:10px;font-size:13px;font-weight:700;border:none;border-radius:12px;background:linear-gradient(90deg,var(--secondary-btn-gradient-start),var(--secondary-btn-gradient-end)); 
    color:var(--text-light);cursor:pointer;transition:0.3s;}
.task-card button:hover{transform:scale(1.03);box-shadow:0 0 20px rgba(255,95,109,0.6);}
.task-card button.completed{background:gray !important;box-shadow:none !important;cursor:not-allowed !important;pointer-events:none !important;opacity:0.55;}
.task-card button.waiting {
    background: orange !important;
    cursor: wait !important;
    opacity: 0.8;
}

.stats{display:flex;justify-content:space-around;margin-top:12px;}
.stat{background:var(--progress-bg);border-radius:10px;padding:10px 16px;}
.stat span{display:block;font-size:16px;font-weight:700;color:var(--text-dark);}
.stat label{font-size:11px;color:var(--text-dark);opacity:0.7;}
.progress{height:10px;background:var(--progress-bg);border-radius:6px;overflow:hidden;margin-top:12px;}
.progress-fill{height:100%;background:var(--accent);width:0%;transition:width .4s;} 

/* REKLAM DÃœYMÆSÄ° STÄ°LÄ° */
.ad-btn{
    width:100%;
    margin-top:12px;
    padding:12px;
    font-size:14px;
    font-weight:700;
    border:none;
    border-radius:14px;
    color:var(--text-light);
    cursor:pointer;
    transition:0.3s;
    background:linear-gradient(90deg,var(--btn-gradient-start),var(--btn-gradient-end));
    box-shadow:0 0 16px var(--btn-shadow);
    position: relative; 
    overflow: hidden; 
    z-index: 1; 
}
.ad-btn:hover:not(.waiting){transform:scale(1.03);box-shadow:0 0 20px var(--btn-shadow);}
.ad-btn::after{
  content:"â„ï¸";
  position:absolute;
  right:10px;
  top:6px;
  opacity:0.4;
  font-size: 20px;
  line-height: 1; 
}
.ad-btn.waiting {
    background: #ccc !important;
    color: #555 !important;
    cursor: not-allowed;
    box-shadow: none !important;
    position: relative; 
    overflow: hidden; 
}
.ad-btn-content {
    position: relative;
    z-index: 2; 
    display: block; 
}
.timer-bar {
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  width: 0%; 
  border-radius: 14px;
  background: linear-gradient(90deg, var(--btn-gradient-start), var(--btn-gradient-end)); 
  z-index: 1; 
}
.ad-btn.waiting .ad-btn-content {
    color: var(--text-light) !important; 
}

#msg {
    margin-top: 5px;
    font-size: 14px;
    font-weight: 600;
    min-height: 0;
    padding: 0;
    line-height: 1.2;
}

#adRewardNotificationContainer {
    position: relative; 
    height: 0; 
    overflow: visible; 
}

.reward-msg {
    position: absolute;
    top: -10px; 
    left: 50%;
    transform: translateX(-50%) translateY(-100%); 
    background: var(--notification-bg); 
    color: var(--notification-text);
    padding: 10px 18px;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    font-weight: 700;
    font-size: 14px;
    opacity: 0;
    z-index: 100; 
    white-space: nowrap;
    transition: opacity 0.4s ease-out, transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
}

.reward-msg.show {
    opacity: 1;
    transform: translateX(-50%) translateY(0); 
}


/* NAVÄ°QASÄ°YA PANELÄ° */
.menu{
    position:fixed;
    bottom:15px;
    left:50%;
    transform:translateX(-50%);
    width:92%;
    max-width:450px; 
    display:flex;
    justify-content:space-around;
    background:var(--menu-bg);
    padding:8px 6px; 
    border-radius:22px;
    box-shadow:0 6px 20px rgba(0,0,0,.3);
    backdrop-filter:blur(8px);
}
.menu button{
    flex:1 1 20%; 
    margin:0 4px; 
    padding:10px 4px; 
    border:none;
    border-radius:16px;
    background:linear-gradient(90deg,var(--btn-gradient-start),var(--btn-gradient-end));
    color:var(--text-light);
    font-weight:600; 
    font-size: 10px; 
    white-space: normal; 
    line-height: 1.2;
    display: flex;
    flex-direction: column; 
    align-items: center;
    justify-content: center;
    height: 55px; 
    text-overflow: clip; 
    overflow: hidden;
    transition:0.3s;
}

.menu-icon {
    font-size: 18px; 
    margin-bottom: 2px; 
    line-height: 1; 
}
.menu-text {
    font-weight: 700; 
}

.menu button.active{
    background:linear-gradient(90deg,var(--secondary-btn-gradient-start),var(--secondary-btn-gradient-end));
    box-shadow:0 0 18px rgba(255,95,109,0.6);
    cursor: default; 
    pointer-events: none; 
    opacity: 0.9;
}
.menu button:not(.active):hover {
    transform: scale(1.03); 
}


#form{display:none;margin-top:12px;}
#form input{
    width:100%;
    padding:12px;
    margin:6px 0;
    border-radius:12px;
    border:1px solid var(--card-border);
    background:var(--card-bg);
    color:var(--input-text); 
}
#form input::placeholder {
    color: var(--input-text); 
    opacity: 0.5; 
}
#form button{width:100%;padding:14px;margin-top:8px;border:none;border-radius:14px;background:linear-gradient(90deg,var(--secondary-btn-gradient-start),var(--secondary-btn-gradient-end));color:var(--text-light);font-weight:700;cursor:pointer;}
.alert{margin-top:6px;padding:10px;border-radius:10px;display:none;}
.alert.error{background:#f8d7da;color:#842029;}
.alert.success{background:#d1e7dd;color:#0f5132;}

/* REFERRANS SÆHÄ°FÆSÄ° STÄ°LLÆRÄ° */
.referral-card {
    text-align: left;
}
.referral-card h2 {
    text-align: center;
    font-size: 18px;
    color: var(--accent);
    margin-bottom: 15px;
}
.referral-info {
    font-size: 14px;
    color: var(--text-dark);
    margin-bottom: 20px;
    line-height: 1.5;
    background: var(--progress-bg);
    padding: 15px;
    border-radius: 12px;
}
.referral-info b {
    color: var(--accent);
}

.referral-actions-container {
    display: flex;
    align-items: stretch; 
    border: 1px solid var(--card-border);
    border-radius: 12px;
    background: var(--card-bg);
    overflow: hidden;
    box-shadow: 0 4px 10px rgba(0,0,0,0.05);
}

.referral-link-display-wrapper {
    flex-grow: 1;
    overflow: hidden;
}

#referralLinkDisplay {
    padding: 12px;
    font-size: 14px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    color: var(--text-dark);
    font-weight: 600;
    cursor: default;
    display: block; 
    height: 100%; 
}

#copyRefLinkBtn, #shareRefLinkBtn {
    padding: 12px 15px;
    border: none;
    color: var(--text-light);
    font-weight: 700;
    cursor: pointer;
    transition: background 0.3s, transform 0.2s;
    flex-shrink: 0; 
    font-size: 18px; 
    width: 50px; 
    text-align: center;
}
#copyRefLinkBtn {
    background: linear-gradient(90deg,var(--btn-gradient-start),var(--btn-gradient-end));
    border-left: 1px solid rgba(255, 255, 255, 0.2); 
}
#shareRefLinkBtn {
    background: linear-gradient(90deg, #1e90ff, #00bfff); 
    border-left: 1px solid rgba(255, 255, 255, 0.2); 
}
#copyRefLinkBtn:active, #shareRefLinkBtn:active {
    transform: scale(0.98);
}


#copyMessage {
    margin-top: 10px;
    font-size: 13px;
    color: #0f5132;
    background: #d1e7dd;
    padding: 8px;
    border-radius: 8px;
    text-align: center;
    display: none;
    font-weight: 600;
}

/* --- BAÅLANÄIC EKRAN STÄ°LÄ° --- */
#loadingScreen{
    position:fixed;
    inset:0;
    background:linear-gradient(135deg,#8b0000,#ff1a1a); 
    display:flex;
    justify-content:center;
    align-items:center;
    z-index:99999;
    width: 100%;
    height: 100%;
}

.loader-box{
    text-align:center;
    animation:fadeIn .8s ease;
    position:relative;
    padding: 30px; 
    border-radius: 20px;
    box-shadow: 0 0 40px rgba(255, 0, 0, 0.5); 
}

.loader-title{
    font-size:30px; 
    font-weight:800; 
    color:#fff;
    letter-spacing:1px; 
    text-shadow: 0 0 8px #fff, 0 0 20px #ff4b2b; 
    margin-bottom: 20px; 
    animation: pulseGlowTitle 2.0s infinite alternate; 
    position: relative;
    z-index: 10;
}

@keyframes pulseGlowTitle {
    from { text-shadow: 0 0 6px #fff, 0 0 15px #ff4b2b; }
    to { text-shadow: 0 0 12px #fff, 0 0 30px #ff0000; }
}

.loader-bar{display: none;}
.loader-fill{display: none;}
.glow{display: none;} 

.loader-text{
    margin-top:10px; 
    font-size:18px; 
    font-weight:700;
    color:#fff;
    letter-spacing:1px;
    animation:blink 1.2s infinite;
    position: relative; 
    overflow: hidden; 
    display: inline-block; 
    padding: 2px 5px; 
    border-radius: 5px;
}

.loader-text::after {
    content: '';
    position: absolute;
    top: 0;
    left: -150%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
    animation: shineText 1.5s infinite 0.5s; 
}

@keyframes shineText {
    0% { transform: translateX(-150%); }
    50% { transform: translateX(150%); }
    100% { transform: translateX(-150%); }
}

.new-year-icon {
    font-size: 40px; 
    margin-bottom: 15px; 
    display: block;
    animation: shakeIcon 3s ease-in-out infinite; 
    position: relative;
    z-index: 5;
    text-shadow: 0 0 8px #fff, 0 0 15px #ff0000; 
}

@keyframes shakeIcon {
    0%, 100% { transform: translateY(0) rotate(0deg); }
    15% { transform: translateY(-3px) rotate(3deg); }
    30% { transform: translateY(3px) rotate(-3deg); }
    45% { transform: translateY(-1px) rotate(1deg); }
    60% { transform: translateY(1px) rotate(-1deg); }
    75% { transform: translateY(0) rotate(0deg); }
}


/* TAPÅIRIQ BÄ°LDÄ°RÄ°ÅÄ° ANÄ°MASÄ°YASI */
#taskNotification {
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translate(-50%, -100px); 
    background: var(--notification-bg);
    color: var(--notification-text);
    padding: 15px 25px;
    border-radius: 12px;
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
    font-weight: 700;
    font-size: 16px;
    opacity: 0;
    z-index: 10000;
    transition: opacity 0.5s ease, transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
}
.notification-show {
    opacity: 1 !important;
    transform: translate(-50%, 0) !important; 
}
.notification-hide {
    opacity: 0;
    transform: translate(-50%, -100px); 
}

/* Ä°stifadÉ™Ã§i AdÄ± ModalÄ± */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.6);
    display: none; 
    justify-content: center;
    align-items: center;
    z-index: 500;
    backdrop-filter: blur(5px);
}
.modal-content {
    background: var(--modal-bg);
    border-radius: 20px;
    padding: 30px;
    width: 90%;
    max-width: 400px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
    text-align: center;
    color: var(--text-dark);
    transition: background-color 0.5s;
}
.modal-content h3 {
    color: var(--accent);
    margin-bottom: 20px;
    font-size: 20px;
}
.input-group {
    display: flex;
    align-items: center;
    border: 1px solid var(--card-border);
    border-radius: 12px;
    background: var(--card-bg);
    overflow: hidden;
    margin-bottom: 15px;
}
.input-group span {
    padding: 12px;
    font-size: 16px;
    font-weight: 700;
    color: var(--accent);
    background: var(--progress-bg);
}
.input-group input {
    flex-grow: 1;
    border: none;
    padding: 12px;
    background: transparent;
    color: var(--input-text);
    font-size: 16px;
    outline: none;
}
.modal-error {
    color: #FF4B2B;
    margin-bottom: 10px;
    font-size: 14px;
    height: 1.2em;
}
.modal-content button {
    width: 100%;
    padding: 14px;
    margin-top: 10px;
    border: none;
    border-radius: 14px;
    background: linear-gradient(90deg, var(--btn-gradient-start), var(--btn-gradient-end));
    color: var(--text-light);
    font-weight: 700;
    cursor: pointer;
    transition: 0.3s;
}
.modal-content button:active {
    transform: scale(0.98);
}

/* YENÄ°LÄ°K: Qar YaÄŸmasÄ± Ã¼Ã§Ã¼n CSS */
#snow{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:9999;
}

</style>
</head>
<body id="body">
<canvas id="snow"></canvas>

<div id="loadingScreen">
  <div class="loader-box">
    <span class="new-year-icon">â˜ƒï¸</span> 
    <div class="loader-title">Qazanc AZ</div>
    <div class="loader-text" data-translate-key="loading">YÃ¼klÉ™nir...</div>
  </div>
</div>

<div id="taskNotification" class="notification-hide">
    <span id="taskNotificationText"></span>
</div>

<div class="modal-overlay" id="usernameModal">
    <div class="modal-content">
        <h3 data-translate-key="usernameTitle">Ä°stifadÉ™Ã§i AdÄ± QeydiyyatÄ±</h3>
        <p style="margin-bottom: 15px; font-size: 14px;" data-translate-key="usernameInfo">Davam etmÉ™k Ã¼Ã§Ã¼n Telegram istifadÉ™Ã§i adÄ±nÄ±zÄ± (@ olmadan, 5-15 simvol) daxil edin.</p>
        
        <div class="input-group">
            <span>@</span>
            <input id="usernameInput" type="text" placeholder="username" maxlength="25"> </div>
        
        <div class="modal-error" id="usernameError"></div>
        
        <button id="saveUsernameBtn" data-translate-key="saveUsername">Yadda Saxla</button>
    </div>
</div>
<div class="container">
  
  <div class="top-controls">
    <div class="username-navbar-display" id="usernameNavbarDisplay" style="display:none;">
        <span class="icon">ğŸ‘¤</span><span id="activeUsernameNavbar"></span>
    </div>

    <div class="right-controls">
        <button class="theme-toggle-btn" onclick="toggleTheme()">
            <span id="themeIcon" class="theme-icon">ğŸ”†</span>
        </button>
        
        <div class="lang-switcher-container">
            <button class="lang-current-btn" onclick="toggleDropdown()">
                <span id="currentLangDisplay">AZ</span>
                <span id="langArrow"></span>
            </button>
            <div class="lang-dropdown" id="langDropdown">
                <button onclick="setLang('az')" id="langAzBtn">AZ</button>
                <button onclick="setLang('en')" id="langEnBtn">EN</button>
                <button onclick="setLang('tr')" id="langTrBtn">TR</button>
                <button onclick="setLang('ru')" id="langRuBtn">RU</button>
            </div>
        </div>
    </div>
  </div>
  
  <div id="adsPage" class="page active">
    <div class="balance-card">
      <h3 data-translate-key="currentBalance">Balans</h3>
      <div class="amount"><span id="balance">0.0000</span> <span id="currencySymbol">â‚¼</span></div>
      <div class="usd"><span id="secondaryCurrencySymbol">$</span><span id="secondaryBalance">0.0000</span> <span id="secondaryCurrencyText">USD</span></div>
    </div>
    
    <div id="adRewardNotificationContainer"></div> 
    <div class="ad-card" style="margin-bottom: 20px;"> <h2 data-translate-key="dailyAds">GÃ¼nlÃ¼k Reklamlar</h2>
      <p data-translate-key="adReward">HÉ™r reklama gÃ¶rÉ™ <b>0.001 â‚¼</b> qazanÄ±n</p>
      <div class="stats">
        <div class="stat"><span id="adsCount">0</span><label data-translate-key="watched">Ä°zlÉ™nÉ™n</label></div>
        <div class="stat"><span data-translate-key="maxCount">100</span><label data-translate-key="maximum">Maksimum</label></div>
      </div>
      <div class="progress"><div class="progress-fill" id="progress"></div></div>
      <p style="margin-top:6px;" data-translate-key="progressText">Ä°rÉ™lilÉ™yiÅŸ: <span id="progressTextSpan">0/100</span></p>
      <button id="adBtn" class="ad-btn">
        <span class="ad-btn-content" data-translate-key="watchAd">Reklam Ä°zle</span>
        </button>
      <div id="msg"></div> </div>
  </div>
  
  <div id="marketPage" class="page">
    <div class="balance-card">
        <h3 data-translate-key="currentBalance">Balans</h3>
        <div class="amount"><span id="balanceMarket">0.0000</span> <span id="currencySymbolMarket">â‚¼</span></div>
        <div class="usd"><span id="secondaryCurrencySymbolMarket">$</span><span id="secondaryBalanceMarket">0.0000</span> <span id="secondaryCurrencyTextMarket">USD</span></div>
    </div>
      
    <div class="market-card">
        <div class="boxes-wrapper">
            <div class="box-container">
                <h3 class="box-title" data-translate-key="mysteryBoxTitle">ğŸ Mega Kutu</h3>
                <div id="megaBox" class="box-item"></div>
                <p class="box-info" data-translate-key="mysteryBoxCost">QiymÉ™t: <span id="boxCostDisplay" class="box-cost">0.5 â‚¼</span></p>
                <button id="openBoxBtn" class="open-box-btn" data-translate-key="openBox">AÃ§</button>
                <div id="boxStatusMessage" class="box-status-msg"></div>
            </div>

            <div class="box-container">
                <h3 class="box-title" data-translate-key="luckyBoxTitle">ğŸ”® Lucky Box</h3>
                <div id="luckyBox" class="box-item"></div>
                <p class="box-info" data-translate-key="luckyBoxCost">QiymÉ™t: <span id="luckyBoxCostDisplay" class="box-cost">0.25 â‚¼</span></p>
                <button id="openLuckyBoxBtn" class="open-box-btn" data-translate-key="openBox">AÃ§</button>
                <div id="luckyBoxStatusMessage" class="box-status-msg"></div>
            </div>
        </div>
    </div>
  </div>
  
  <div id="tasksPage" class="page">
    <div class="task-card">
      <h2 data-translate-key="premiumTask">Premium TapÅŸÄ±rÄ±q</h2>
      <p data-translate-key="taskReward1">Kanala qoÅŸul vÉ™ <b>0.1 â‚¼</b> qazan!</p>
      <button id="joinBtn" data-translate-key="joinChannel">Kanala QoÅŸul</button>
    </div>
    <div class="task-card">
      <h2 data-translate-key="bonusTask">Bonus TapÅŸÄ±rÄ±q</h2>
      <p data-translate-key="taskReward2">Qrupa qoÅŸul vÉ™ <b>0.1 â‚¼</b> qazan!</p>
      <button id="joinBtn2" data-translate-key="joinGroup">Qrupa QoÅŸul</button>
    </div>
    <div class="task-card">
      <h2 data-translate-key="bonusTask">Bonus TapÅŸÄ±rÄ±q</h2>
      <p data-translate-key="taskReward3">Kanala qoÅŸul vÉ™ <b>0.15 â‚¼</b> qazan!</p>
      <button id="joinBtn3" data-translate-key="joinChannel">Kanala QoÅŸul</button>
    </div>
    <div class="task-card">
      <h2 data-translate-key="sponsorTask">Sponsor TapÅŸÄ±rÄ±q</h2>
      <p data-translate-key="taskReward4">Kanala qoÅŸul vÉ™ <b>0.05 â‚¼</b> qazan!</p>
      <button id="joinBtn4" data-translate-key="joinChannel">Kanala QoÅŸul</button>
    </div>
  </div>
  
  <div id="referralPage" class="page">
    <div class="referral-card">
        <h2 data-translate-key="referralTitle">Referans</h2>
        <div class="referral-info">
            <p data-translate-key="referralInfo1">
                <span style="font-size:16px; font-weight:700; color:var(--accent);">â­ Qeyd:</span> Referans Ã¶dÃ¼lÃ¼ yoxdur.
            </p>
            <p data-translate-key="referralInfo2">
                Ã‡Ä±xarÄ±ÅŸ etdiyinizdÉ™ linkinizdÉ™n bota qatÄ±lan istifadÉ™Ã§ilÉ™rÉ™ baxÄ±lacaq.
                Pulunuz **Bonuslu** olaraq gÃ¶ndÉ™rilÉ™cÉ™k.
            </p>
        </div>
        
        <h3 style="font-size:16px; margin-bottom:10px; color:var(--text-dark);" data-translate-key="yourRefLink">Referans Linkiniz</h3>
        <div class="referral-actions-container">
            <div class="referral-link-display-wrapper">
                <span id="referralLinkDisplay" data-ref-base="https://t.me/qazancazbot?startapp=" data-ref-code="1234567890"></span>
            </div>
            
            <button id="copyRefLinkBtn" data-translate-key="copy">ğŸ“‹</button>
            <button id="shareRefLinkBtn" data-translate-key="share">ğŸ“¤</button> 
        </div>
        <div id="copyMessage" data-translate-key="copied">KopyalandÄ±!</div>
    </div>
  </div>

  <div id="walletPage" class="page">
    <div class="balance-card">
      <h3 data-translate-key="withdrawBalance">Balans</h3>
      <div class="amount"><span id="balance2">0.0000</span> <span id="currencySymbol2">â‚¼</span></div>
      <div class="usd"><span id="secondaryCurrencySymbol2">$</span><span id="secondaryBalance2">0.0000</span> <span id="secondaryCurrencyText2">USD</span></div>
    </div>
    <h2 style="text-align:center;margin-bottom:12px;color:var(--text-dark);" data-translate-key="withdrawTitle">Ã‡Ä±xarÄ±ÅŸ</h2>
    <div class="method-list" id="methods">
      
      <div class="method" data-type="m10">
          <img src="https://i.postimg.cc/Kj94hVNG/unnamed.png" alt="M10 Logo" class="method-logo">
          <span class="method-text">M10</span>
          <span class="min-withdraw-label" data-min-key="m10">4 â‚¼</span>
      </div>
      <div class="method" data-type="azercell">
          <img src="https://i.postimg.cc/qM5gmPqZ/applogo512.png" alt="Azercell Logo" class="method-logo">
          <span class="method-text">Azercell</span>
          <span class="min-withdraw-label" data-min-key="azercell">4 â‚¼</span>
      </div>
      <div class="method" data-type="bakcell">
          <img src="https://i.postimg.cc/Pqmx5N49/images.jpg" alt="Bakcell Logo" class="method-logo">
          <span class="method-text">Bakcell</span>
          <span class="min-withdraw-label" data-min-key="bakcell">4 â‚¼</span>
      </div>
      <div class="method" data-type="nar">
          <img src="https://i.postimg.cc/4NmxhWPy/images.png" alt="Nar Logo" class="method-logo">
          <span class="method-text">Nar</span>
          <span class="min-withdraw-label" data-min-key="nar">4 â‚¼</span>
      </div>
      <div class="method" data-type="bank">
          <img src="https://i.postimg.cc/L6H0yWwZ/42492-bank-1024.png" alt="Bank Logo" class="method-logo bank-logo">
          <span class="method-text" data-translate-key="bankCard">Bank</span>
          <span class="min-withdraw-label" data-min-key="bank">4 â‚¼</span>
      </div>
      <div class="method" data-type="usdt">
          <img src="https://i.postimg.cc/X7HxsY98/Tether-USDT-Logo.png" alt="USDT Logo" class="method-logo">
          <span class="method-text">USDT</span>
          <span class="min-withdraw-label" data-min-key="usdt">4 â‚¼</span>
      </div>
    </div>
    <div class="form" id="form">
      <button id="backBtn" style="background:none;border:none;color:var(--accent);font-weight:700;">â¬… <span data-translate-key="back">Geri</span></button>
      <input id="details" placeholder="">
      <input id="amount" type="number" placeholder="MÉ™blÉ™ÄŸ">
      <button id="withdrawBtn" data-translate-key="withdraw">Ã‡Ä±xarÄ±ÅŸ Et</button>
      <div id="alert" class="alert"></div>
    </div>
  </div>

</div>

<div class="menu">
  <button onclick="showPage('adsPage',this)" class="active" data-page-id="adsPage" data-icon="ğŸ " data-translate-key="home">
    <span class="menu-icon">ğŸ </span><span class="menu-text">Ev</span>
  </button>
  <button onclick="showPage('marketPage',this)" data-page-id="marketPage" data-icon="ğŸ›’" data-translate-key="market">
    <span class="menu-icon">ğŸ›’</span><span class="menu-text">Market</span>
  </button>
  <button onclick="showPage('tasksPage',this)" data-page-id="tasksPage" data-icon="ğŸ“" data-translate-key="tasks">
    <span class="menu-icon">ğŸ“</span><span class="menu-text">GÃ¶revler</span>
  </button>
  <button onclick="showPage('referralPage',this)" data-page-id="referralPage" data-icon="ğŸ‘¥" data-translate-key="referral">
    <span class="menu-icon">ğŸ‘¥</span><span class="menu-text">Referans</span>
  </button>
  <button onclick="showPage('walletPage',this)" data-page-id="walletPage" data-icon="ğŸ’¼" data-translate-key="wallet">
    <span class="menu-icon">ğŸ’¼</span><span class="menu-text">CÃ¼zdan</span>
  </button>
</div>
<script>
// YENÄ°LÄ°K: Qar YaÄŸmasÄ± Ã¼Ã§Ã¼n JavaScript
const canvas = document.getElementById("snow");
const ctx = canvas.getContext("2d");

function resizeSnow(){
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
resizeSnow();
window.addEventListener("resize", resizeSnow);

let snow = [];
for(let i=0;i<140;i++){
  snow.push({
    x:Math.random()*canvas.width,
    y:Math.random()*canvas.height,
    r:Math.random()*3+1,
    s:Math.random()*1+0.5
  });
}

function drawSnow(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle="rgba(255,255,255,0.85)";
  ctx.beginPath();
  snow.forEach(f=>{
    ctx.moveTo(f.x,f.y);
    ctx.arc(f.x,f.y,f.r,0,Math.PI*2);
  });
  ctx.fill();
  snow.forEach(f=>{
    f.y+=f.s;
    if(f.y>canvas.height){f.y=0;f.x=Math.random()*canvas.width;}
  });
}
setInterval(drawSnow,30);


// --- YERLÄ° SAXLAMA KÃ–MÆKÃ‡Ä°LÆRÄ° ---
function safeGet(k,d=0){try{return JSON.parse(localStorage.getItem(k))??d;}catch{return d;}}
function safeSet(k,v){try{localStorage.setItem(k,JSON.stringify(v));}catch(e){}}
function safeRemove(k){try{localStorage.removeItem(k);}catch(e){}}

// 10 rÉ™qÉ™mli Referans Kodu yaradÄ±r
function generateRefCode(){
    let code = safeGet('refCode', null);
    if (!code) {
        code = Math.floor(1000000000 + Math.random() * 9000000000).toString();
        safeSet('refCode', code);
    }
    return code;
}

// --- TEMA Ä°DARÆETMÆSÄ° ---
const THEME_KEY = 'theme';
const body = document.getElementById('body');
const themeIcon = document.getElementById('themeIcon');

function applyTheme(isDark) {
    if (isDark) {
        body.classList.add('dark-theme');
        themeIcon.textContent = 'ğŸŒ™'; 
        safeSet(THEME_KEY, 'dark');
    } else {
        body.classList.remove('dark-theme');
        themeIcon.textContent = 'ğŸ”†'; 
        safeSet(THEME_KEY, 'light');
    }
}

function toggleTheme() {
    const isDark = body.classList.contains('dark-theme');
    applyTheme(!isDark);
}

const savedTheme = safeGet(THEME_KEY, 'light');
applyTheme(savedTheme === 'dark');


// --- VALYUTA VÆ MÆZÆNNÆLÆR ---
const EXCHANGE_RATES = {
    AZN_TO_USD: 0.59, 
    AZN_TO_TRY: 25.00,  
    AZN_TO_RUB: 46.45 
};
const CURRENCIES = {
    'az': { main: 'AZN', symbol: 'â‚¼', secondary: 'USD', secondarySymbol: '$' },
    'tr': { main: 'TRY', symbol: 'â‚º', secondary: 'USD', secondarySymbol: '$' },
    'en': { main: 'USD', symbol: '$', secondary: 'RUB', secondarySymbol: 'â‚½' }, 
    'ru': { main: 'RUB', symbol: 'â‚½', secondary: 'USD', secondarySymbol: '$' }
};

const AZN_REWARD = 0.001; 
const AZN_TASK_REWARDS = [0.1, 0.1, 0.15, 0.05]; 

// BÃ¼tÃ¼n metodlar Ã¼Ã§Ã¼n minimum Ã§Ä±xarÄ±ÅŸ 4 AZN
const AZN_MIN_WITHDRAW = { m10: 4, azercell: 4, bakcell: 4, nar: 4, bank: 4, usdt: 4 }; 

// YENÄ°: Mega Box vÉ™ Lucky Box DÉ™yiÅŸÉ™nlÉ™ri
const BOX_COST_AZN = 0.50;
const BOX_REWARDS_AZN = [0.05, 0.05, 0.05, 0.10, 0.10, 0.10, 0.10, 0.10, 0.25]; 

const LUCKY_BOX_COST_AZN = 0.25;
// Ehtimallar: 0.03 (Ã§ox), 0.05 (orta), 0.10 (az), 0.15 (nadir)
const LUCKY_BOX_REWARDS_AZN = [0.03, 0.03, 0.03, 0.03, 0.05, 0.05, 0.05, 0.10, 0.10, 0.15];

// --- Ä°STÄ°FADÆÃ‡Ä° ADI AÃ‡ARI ---
const USERNAME_KEY = 'az_username';
const USERNAME_MIN_LENGTH = 5;
const USERNAME_MAX_LENGTH = 25; // 15-dÉ™n 25-É™ artÄ±rÄ±ldÄ± ki, uzun adlar sÄ±ÄŸsÄ±n

// --- YERLÄ° SAXLAMA AÃ‡ARLARI ---
const BAL_KEY='bal',COUNT_KEY='cnt',RESET_KEY='resetTime';
const JOIN_KEY='joined',JOIN_KEY2='joined2',JOIN_KEY3='joined3',JOIN_KEY4='joined4'; 
const TOTAL_ADS_KEY = 'totalAdsWatched';
const TOTAL_EARNED_KEY = 'totalAZNEarned';
const REWARD_MSG_KEY = 'rewardMsgExpire';


// --- TÆRCÃœMÆ MÆLUMATLARI (DÄ°L SÃ–ZLÃœYÃœ) ---

function localizeAmount(aznAmount, lang) {
    const rates = EXCHANGE_RATES;
    const currencyInfo = CURRENCIES[lang];
    let amount = aznAmount;
    let format = (val) => val.toFixed(4);
    
    if (lang === 'tr') {
        amount = aznAmount * rates.AZN_TO_TRY;
        format = (val) => val.toFixed(2); 
    } else if (lang === 'en') {
        amount = aznAmount * rates.AZN_TO_USD;
        format = (val) => val.toFixed(4); 
    } else if (lang === 'ru') {
        amount = aznAmount * rates.AZN_TO_RUB;
        format = (val) => val.toFixed(2); 
    }
    
    return {
        amount: amount,
        formatted: format(amount),
        symbol: currencyInfo.symbol
    };
}

function getLocalizedReward(lang) {
    const info = localizeAmount(AZN_REWARD, lang);
    return {
        reward: info.amount,
        formattedReward: info.formatted,
        symbol: info.symbol,
        currency: CURRENCIES[lang].main
    };
}

function getLocalizedTaskReward(lang, aznReward) {
    const info = localizeAmount(aznReward, lang);
    return `<b>${info.formatted} ${info.symbol}</b>`;
}

function getLocalizedMinAmount(methodType, lang) {
    const currencyInfo = CURRENCIES[lang];
    let symbol = currencyInfo.symbol;
    let formattedAmount;
    
    if (lang === 'az') { formattedAmount = '4'; symbol = 'â‚¼'; } 
    else if (lang === 'en') { formattedAmount = '2.40'; symbol = '$'; } 
    else if (lang === 'tr') { formattedAmount = '100'; symbol = 'â‚º'; } 
    else if (lang === 'ru') { formattedAmount = '188'; symbol = 'â‚½'; } 
    else { formattedAmount = '4'; symbol = 'â‚¼'; }
    
    return `${formattedAmount} ${symbol}`;
}

function getAZNEquivalentMinWithdrawal(lang) {
    if (lang === 'en') return 2.40 / EXCHANGE_RATES.AZN_TO_USD; 
    else if (lang === 'tr') return 100 / EXCHANGE_RATES.AZN_TO_TRY;
    else if (lang === 'ru') return 188 / EXCHANGE_RATES.AZN_TO_RUB;
    else return 4.0; 
}

const TRANSLATIONS = {
    'az': {
        pageTitle: 'Qazanc AZ',
        loading: 'YÃ¼klÉ™nir...',
        market: 'Market', 
        currentBalance: 'Balans',
        withdrawBalance: 'Balans',
        dailyAds: 'GÃ¼nlÃ¼k Reklamlar',
        adReward: (r) => `HÉ™r reklama gÃ¶rÉ™ ${r} qazanÄ±n`, 
        watched: 'Ä°zlÉ™nÉ™n',
        maximum: 'Maksimum',
        maxCount: '100',
        progressText: 'Ä°rÉ™lilÉ™yiÅŸ: ',
        watchAd: 'Reklam Ä°zle',
        adLimitReached: 'ğŸ“£ GÃ¼ndÉ™lik limitÉ™ Ã§atdÄ±nÄ±z!',
        watching: 'Ä°zlÉ™nir...',
        rewardAddedConfirmed: (r) => `âœ… ${r} É™lavÉ™ olundu!`, 
        wait: 'â³ {s}s gÃ¶zlÉ™yin',
        premiumTask: 'Premium TapÅŸÄ±rÄ±q',
        bonusTask: 'Bonus TapÅŸÄ±rÄ±q',
        sponsorTask: 'Sponsor TapÅŸÄ±rÄ±q',
        taskReward1: (r) => `Kanala qoÅŸul vÉ™ ${r} qazan!`,
        taskReward2: (r) => `Qrupa qoÅŸul vÉ™ ${r} qazan!`,
        taskReward3: (r) => `Kanala qoÅŸul vÉ™ ${r} qazan!`,
        taskReward4: (r) => `Kanala qoÅŸul vÉ™ ${r} qazan!`,
        joinChannel: 'Kanala QoÅŸul',
        joinGroup: 'Qrupa QoÅŸul',
        withdrawTitle: 'Ã‡Ä±xarÄ±ÅŸ',
        bankCard: 'Bank KartÄ±',
        back: 'Geri',
        withdraw: 'Ã‡Ä±xarÄ±ÅŸ Et',
        methodError: 'Metod seÃ§in',
        detailsError: 'DetallarÄ± daxil edin',
        amountError: 'MÉ™blÉ™ÄŸi dÃ¼zgÃ¼n daxil edin',
        minAmount: (min) => `Minimum mÉ™blÉ™ÄŸ ${min}`, 
        balanceError: 'Balans kifayÉ™t etmir',
        withdrawSuccess: 'âœ… Ã‡Ä±xarÄ±ÅŸ gÃ¶ndÉ™rildi! 48 saat É™rzindÉ™ yerinÉ™ yetirilÉ™cÉ™k.',
        home: 'Ev',
        tasks: 'GÃ¶revler',
        referral: 'Referans',
        wallet: 'CÃ¼zdan',
        referralTitle: 'Referans',
        referralInfo1: 'â­ Qeyd: Referans Ã¶dÃ¼lÃ¼ yoxdur.',
        referralInfo2: 'Ã‡Ä±xarÄ±ÅŸ etdiyinizdÉ™ linkinizdÉ™n bota qatÄ±lan istifadÉ™Ã§ilÉ™rÉ™ baxÄ±lacaq. Pulunuz **Bonuslu** olaraq gÃ¶ndÉ™rilÉ™cÉ™k.',
        yourRefLink: 'Referans Linkiniz',
        copy: 'Kopyala',
        copied: 'KopyalandÄ±!',
        copyFailed: 'Kopyalama uÄŸursuz oldu!',
        placeholderDetails_m10: '10 rÉ™qÉ™mli nÃ¶mrÉ™',
        placeholderDetails_azercell: '050xxxxxxx',
        placeholderDetails_bakcell: '055xxxxxxx',
        placeholderDetails_nar: '070xxxxxxx',
        placeholderDetails_bank: '16 rÉ™qÉ™mli kart nÃ¶mrÉ™si',
        placeholderDetails_usdt: 'TON adresi',
        placeholderAmount: 'MÉ™blÉ™ÄŸ',
        completed: 'TamamlandÄ±', 
        taskSuccess: (r) => `âœ… TapÅŸÄ±rÄ±q tamamlandÄ±! ${r} É™lavÉ™ olundu.`,
        usernameTitle: 'Ä°stifadÉ™Ã§i AdÄ± QeydiyyatÄ±',
        usernameInfo: `Davam etmÉ™k Ã¼Ã§Ã¼n Telegram istifadÉ™Ã§i adÄ±nÄ±zÄ± (@ olmadan, ${USERNAME_MIN_LENGTH}-${USERNAME_MAX_LENGTH} simvol) daxil edin.`,
        saveUsername: 'Yadda Saxla',
        usernameTooShort: `Ä°stifadÉ™Ã§i adÄ± minimum ${USERNAME_MIN_LENGTH} simvol olmalÄ±dÄ±r!`,
        usernameTooLong: `Ä°stifadÉ™Ã§i adÄ± maksimum ${USERNAME_MAX_LENGTH} simvol olmalÄ±dÄ±r!`,
        usernameInvalid: "Ä°stifadÉ™Ã§i adÄ± yalnÄ±z hÉ™rflÉ™r, rÉ™qÉ™mlÉ™r vÉ™ '_' ibarÉ™t olmalÄ±dÄ±r. (@-siz daxil edin)",
        usernameSaved: 'âœ… Ä°stifadÉ™Ã§i adÄ± qeyd edildi!',
        activeUsernameTitle: 'Aktiv Ä°stifadÉ™Ã§i AdÄ±nÄ±z',
        yourUsernameTitle: 'Ä°stifadÉ™Ã§i AdÄ±nÄ±z',
        share: 'PaylaÅŸ', 
        shareMessage: (link) => `MÉ™n Qazanc AZ ilÉ™ reklam izlÉ™yÉ™rÉ™k qazanÄ±ram ğŸ’°\nSÉ™n dÉ™ mÉ™nim linkimdÉ™n qoÅŸul ğŸ”—\n${link}\nReklam izlÉ™yÉ™rÉ™k birlikdÉ™ qazanaq ğŸ“²ğŸ’¸\nFÃ¼rsÉ™ti qaÃ§Ä±rma, indi baÅŸla! ğŸ”¥ğŸš€`,
        
        // QUTU TÆRCÃœMÆLÆRÄ°
        mysteryBoxTitle: 'ğŸ Mega Kutu',
        mysteryBoxCost: (c) => `QiymÉ™t: ${c}`,
        openBox: 'AÃ§',
        costDeducted: (c) => `ğŸ’° BalansÄ±nÄ±zdan ${c} Ã§Ä±xÄ±ldÄ±. Qutu aÃ§Ä±lÄ±r...`,
        boxOpened: (r) => `ğŸ‰ TÉ™briklÉ™r! ${r} qazandÄ±nÄ±z!`,
        boxBalanceError: (c) => `Qutunu aÃ§maq Ã¼Ã§Ã¼n ${c} yoxdur.`,

        // LUCKY BOX TÆRCÃœMÆLÆRÄ°
        luckyBoxTitle: 'ğŸ”® Lucky Box',
        luckyBoxCost: (c) => `QiymÉ™t: ${c}`,
    },
    'en': {
        pageTitle: 'Earn AZ',
        loading: 'Loading...',
        market: 'Shop',
        currentBalance: 'Balance',
        withdrawBalance: 'Balance',
        dailyAds: 'Daily Ads',
        adReward: (r) => `Earn ${r} for each ad`, 
        watched: 'Watched',
        maximum: 'Maximum',
        maxCount: '100',
        progressText: 'Progress: ',
        watchAd: 'Watch Ad',
        adLimitReached: 'ğŸ“£ Daily limit reached!',
        watching: 'Watching...',
        rewardAddedConfirmed: (r) => `âœ… ${r} added!`,
        wait: 'â³ {s}s wait',
        premiumTask: 'Premium Task',
        bonusTask: 'Bonus Task',
        sponsorTask: 'Sponsor Task',
        taskReward1: (r) => `Join channel and earn ${r}!`,
        taskReward2: (r) => `Join group and earn ${r}!`,
        taskReward3: (r) => `Join channel and earn ${r}!`,
        taskReward4: (r) => `Join channel and earn ${r}!`,
        joinChannel: 'Join Channel',
        joinGroup: 'Join Group',
        withdrawTitle: 'Withdrawal',
        bankCard: 'Bank Card',
        back: 'Back',
        withdraw: 'Withdraw',
        methodError: 'Select a method',
        detailsError: 'Enter details',
        amountError: 'Enter correct amount',
        minAmount: (min) => `Minimum amount ${min}`,
        balanceError: 'Insufficient balance',
        withdrawSuccess: 'âœ… Withdrawal sent! It will be executed within 48 hours.',
        home: 'Home',
        tasks: 'Tasks',
        referral: 'Referral',
        wallet: 'Wallet',
        referralTitle: 'Referral',
        referralInfo1: 'â­ Note: There is no referral reward.',
        referralInfo2: 'When you withdraw, users who joined the bot through your link will be checked. Your money will be sent as a **Bonus**.',
        yourRefLink: 'Your Referral Link',
        copy: 'Copy',
        copied: 'Copied!', 
        copyFailed: 'Copy failed!', 
        placeholderDetails_m10: '10 digit M10 number',
        placeholderDetails_azercell: '050xxxxxxx',
        placeholderDetails_bakcell: '055xxxxxxx',
        placeholderDetails_nar: '070xxxxxxx',
        placeholderDetails_bank: '16 digit card number',
        placeholderDetails_usdt: 'TON address',
        placeholderAmount: 'Amount',
        completed: 'Completed', 
        taskSuccess: (r) => `âœ… Task completed! ${r} added.`, 
        usernameTitle: 'Username Registration',
        usernameInfo: `Please enter your Telegram username (without @, ${USERNAME_MIN_LENGTH}-${USERNAME_MAX_LENGTH} chars) to continue.`,
        saveUsername: 'Save',
        usernameTooShort: `Username must be at least ${USERNAME_MIN_LENGTH} characters!`,
        usernameTooLong: `Username must be maximum ${USERNAME_MAX_LENGTH} characters!`,
        usernameInvalid: "Username must contain only letters, numbers and '_'. (Enter without @)",
        usernameSaved: 'âœ… Username saved!',
        activeUsernameTitle: 'Active Username',
        yourUsernameTitle: 'Your Username',
        share: 'Share',
        shareMessage: (link) => `I earn by watching ads with Qazanc AZ ğŸ’°\nJoin with my link ğŸ”—\n${link}\nLet's earn together by watching ads ğŸ“²ğŸ’¸\nDon't miss the chance, start now! ğŸ”¥ğŸš€`,
        
        mysteryBoxTitle: 'ğŸ Mega Box',
        mysteryBoxCost: (c) => `Cost: ${c}`,
        openBox: 'Open',
        costDeducted: (c) => `ğŸ’° ${c} deducted. Box is opening...`,
        boxOpened: (r) => `ğŸ‰ Congratulations! You won ${r}!`,
        boxBalanceError: (c) => `You do not have ${c} to open the box.`,

        luckyBoxTitle: 'ğŸ”® Lucky Box',
        luckyBoxCost: (c) => `Cost: ${c}`,
    },
    'tr': {
        pageTitle: 'Kazan AZ',
        loading: 'YÃ¼kleniyor...',
        market: 'MaÄŸaza',
        currentBalance: 'Bakiye',
        withdrawBalance: 'Bakiye',
        dailyAds: 'GÃ¼nlÃ¼k Reklamlar',
        adReward: (r) => `Her reklam iÃ§in ${r} kazanÄ±n`, 
        watched: 'Ä°zlenen',
        maximum: 'Maksimum',
        maxCount: '100',
        progressText: 'Ä°lerleme: ',
        watchAd: 'Reklam Ä°zle',
        adLimitReached: 'ğŸ“£ GÃ¼nlÃ¼k sÄ±nÄ±ra ulaÅŸtÄ±nÄ±z!',
        watching: 'Ä°zleniyor...',
        rewardAddedConfirmed: (r) => `âœ… ${r} eklendi!`,
        wait: 'â³ {s}sn bekleyin',
        premiumTask: 'Premium GÃ¶rev',
        bonusTask: 'Bonus GÃ¶rev',
        sponsorTask: 'Sponsor GÃ¶revi',
        taskReward1: (r) => `Kanala katÄ±l ve ${r} kazan!`,
        taskReward2: (r) => `Gruba katÄ±l ve ${r} kazan!`,
        taskReward3: (r) => `Kanala katÄ±l ve ${r} kazan!`,
        taskReward4: (r) => `Kanala katÄ±l ve ${r} kazan!`,
        joinChannel: 'Kanala KatÄ±l',
        joinGroup: 'Gruba KatÄ±l',
        withdrawTitle: 'Para Ã‡ekme',
        bankCard: 'Banka KartÄ±',
        back: 'Geri',
        withdraw: 'Para Ã‡ek',
        methodError: 'YÃ¶ntem seÃ§in',
        detailsError: 'Bilgileri girin',
        amountError: 'MiktarÄ± doÄŸru girin',
        minAmount: (min) => `Minimum miktar ${min}`,
        balanceError: 'Yetersiz bakiye',
        withdrawSuccess: 'âœ… Ã‡ekim talebi gÃ¶nderildi! 48 saat iÃ§inde tamamlanacaktÄ±r.',
        home: 'Ana Sayfa',
        tasks: 'GÃ¶revler',
        referral: 'Referans',
        wallet: 'CÃ¼zdan',
        referralTitle: 'Referans',
        referralInfo1: 'â­ Not: Referans Ã¶dÃ¼lÃ¼ yoktur.',
        referralInfo2: 'Para Ã§ektiÄŸinizde, linkiniz Ã¼zerinden bota katÄ±lan kullanÄ±cÄ±lar kontrol edilecektir. ParanÄ±z **Bonuslu** olarak gÃ¶nderilecektir.',
        yourRefLink: 'Referans BaÄŸlantÄ±nÄ±z',
        copy: 'Kopyala',
        copied: 'KopyalandÄ±!', 
        copyFailed: 'Kopyalama baÅŸarÄ±sÄ±z!', 
        placeholderDetails_m10: '10 haneli M10 numarasÄ±',
        placeholderDetails_azercell: '050xxxxxxx',
        placeholderDetails_bakcell: '055xxxxxxx',
        placeholderDetails_nar: '070xxxxxxx',
        placeholderDetails_bank: '16 haneli kart numarasÄ±',
        placeholderDetails_usdt: 'TON adresi',
        placeholderAmount: 'Miktar',
        completed: 'TamamlandÄ±', 
        taskSuccess: (r) => `âœ… GÃ¶rev tamamlandÄ±! ${r} eklendi.`, 
        usernameTitle: 'KullanÄ±cÄ± AdÄ± KaydÄ±',
        usernameInfo: `Devam etmek iÃ§in Telegram kullanÄ±cÄ± adÄ±nÄ±zÄ± (@ olmadan, ${USERNAME_MIN_LENGTH}-${USERNAME_MAX_LENGTH} karakter) giriniz.`,
        saveUsername: 'Kaydet',
        usernameTooShort: `KullanÄ±cÄ± adÄ± en az ${USERNAME_MIN_LENGTH} karakter olmalÄ±dÄ±r!`,
        usernameTooLong: `KullanÄ±cÄ± adÄ± maksimum ${USERNAME_MAX_LENGTH} karakter olmalÄ±dÄ±r!`,
        usernameInvalid: "KullanÄ±cÄ± adÄ± sadece harfler, rakamlar ve '_' iÃ§ermelidir. (@-siz giriniz)",
        usernameSaved: 'âœ… KullanÄ±cÄ± adÄ± kaydedildi!',
        activeUsernameTitle: 'Aktif KullanÄ±cÄ± AdÄ±nÄ±z',
        yourUsernameTitle: 'KullanÄ±cÄ± AdÄ±nÄ±z',
        share: 'PaylaÅŸ',
        shareMessage: (link) => `Qazanc AZ ile reklam izleyerek kazanÄ±yorum ğŸ’°\nSen de benim linkimden katÄ±l ğŸ”—\n${link}\nReklam izleyerek birlikte kazanalÄ±m ğŸ“²ğŸ’¸\nFÄ±rsatÄ± kaÃ§Ä±rma, hemen baÅŸla! ğŸ”¥ğŸš€`,
        
        mysteryBoxTitle: 'ğŸ Mega Kutu',
        mysteryBoxCost: (c) => `Ãœcret: ${c}`,
        openBox: 'AÃ§',
        costDeducted: (c) => `ğŸ’° Bakiyenizden ${c} dÃ¼ÅŸÃ¼ldÃ¼. Kutu aÃ§Ä±lÄ±yor...`,
        boxOpened: (r) => `ğŸ‰ Tebrikler! ${r} kazandÄ±nÄ±z!`,
        boxBalanceError: (c) => `Kutuyu aÃ§mak iÃ§in bakiyenizde ${c} yok.`,

        luckyBoxTitle: 'ğŸ”® Lucky Box',
        luckyBoxCost: (c) => `Ãœcret: ${c}`,
    },
    'ru': { 
        pageTitle: 'Ğ—Ğ°Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ¾Ğº AZ',
        loading: 'Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°...',
        market: 'Ğ Ñ‹Ğ½Ğ¾Ğº',
        currentBalance: 'Ğ‘Ğ°Ğ»Ğ°Ğ½Ñ',
        withdrawBalance: 'Ğ‘Ğ°Ğ»Ğ°Ğ½Ñ',
        dailyAds: 'Ğ•Ğ¶ĞµĞ´Ğ½ĞµĞ²Ğ½Ğ°Ñ Ğ ĞµĞºĞ»Ğ°Ğ¼Ğ°',
        adReward: (r) => `Ğ—Ğ°Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°Ğ¹Ñ‚Ğµ ${r} Ğ·Ğ° ĞºĞ°Ğ¶Ğ´ÑƒÑ Ñ€ĞµĞºĞ»Ğ°Ğ¼Ñƒ`, 
        watched: 'ĞŸÑ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ĞµĞ½Ğ¾',
        maximum: 'ĞœĞ°ĞºÑĞ¸Ğ¼ÑƒĞ¼',
        maxCount: '100',
        progressText: 'ĞŸÑ€Ğ¾Ğ³Ñ€ĞµÑÑ: ',
        watchAd: 'Ğ¡Ğ¼Ğ¾Ñ‚Ñ€ĞµÑ‚ÑŒ Ğ ĞµĞºĞ»Ğ°Ğ¼Ñƒ',
        adLimitReached: 'ğŸ“£ Ğ”Ğ¾ÑÑ‚Ğ¸Ğ³Ğ½ÑƒÑ‚ Ğ´Ğ½ĞµĞ²Ğ½Ğ¾Ğ¹ Ğ»Ğ¸Ğ¼Ğ¸Ñ‚!',
        watching: 'ĞŸÑ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€...',
        rewardAddedConfirmed: (r) => `âœ… ${r} Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¾!`,
        wait: 'â³ {s}Ñ Ğ¾Ğ¶Ğ¸Ğ´Ğ°Ğ¹Ñ‚Ğµ',
        premiumTask: 'ĞŸÑ€ĞµĞ¼Ğ¸ÑƒĞ¼ Ğ—Ğ°Ğ´Ğ°Ğ½Ğ¸Ğµ',
        bonusTask: 'Ğ‘Ğ¾Ğ½ÑƒÑĞ½Ğ¾Ğµ Ğ—Ğ°Ğ´Ğ°Ğ½Ğ¸Ğµ',
        sponsorTask: 'Ğ¡Ğ¿Ğ¾Ğ½ÑĞ¾Ñ€ÑĞºĞ¾Ğµ Ğ—Ğ°Ğ´Ğ°Ğ½Ğ¸Ğµ',
        taskReward1: (r) => `ĞŸĞ¾Ğ´Ğ¿Ğ¸ÑˆĞ¸Ñ‚ĞµÑÑŒ Ğ½Ğ° ĞºĞ°Ğ½Ğ°Ğ» Ğ¸ Ğ·Ğ°Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ¹Ñ‚Ğµ ${r}!`,
        taskReward2: (r) => `ĞŸÑ€Ğ¸ÑĞ¾ĞµĞ´Ğ¸Ğ½Ğ¸Ñ‚ĞµÑÑŒ Ğº Ğ³Ñ€ÑƒĞ¿Ğ¿Ğµ Ğ¸ Ğ·Ğ°Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ¹Ñ‚Ğµ ${r}!`,
        taskReward3: (r) => `ĞŸĞ¾Ğ´Ğ¿Ğ¸ÑˆĞ¸Ñ‚ĞµÑÑŒ Ğ½Ğ° ĞºĞ°Ğ½Ğ°Ğ» Ğ¸ Ğ·Ğ°Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ¹Ñ‚Ğµ ${r}!`,
        taskReward4: (r) => `ĞŸĞ¾Ğ´Ğ¿Ğ¸ÑˆĞ¸Ñ‚ĞµÑÑŒ Ğ½Ğ° ĞºĞ°Ğ½Ğ°Ğ» Ğ¸ Ğ·Ğ°Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ¹Ñ‚Ğµ ${r}!`,
        joinChannel: 'ĞŸĞ¾Ğ´Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒÑÑ',
        joinGroup: 'Ğ’ÑÑ‚ÑƒĞ¿Ğ¸Ñ‚ÑŒ Ğ² Ğ“Ñ€ÑƒĞ¿Ğ¿Ñƒ',
        withdrawTitle: 'Ğ’Ñ‹Ğ²Ğ¾Ğ´ Ğ¡Ñ€ĞµĞ´ÑÑ‚Ğ²',
        bankCard: 'Ğ‘Ğ°Ğ½ĞºĞ¾Ğ²ÑĞºĞ°Ñ ĞšĞ°Ñ€Ñ‚Ğ°',
        back: 'ĞĞ°Ğ·Ğ°Ğ´',
        withdraw: 'Ğ’Ñ‹Ğ²ĞµÑÑ‚Ğ¸',
        methodError: 'Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ ÑĞ¿Ğ¾ÑĞ¾Ğ±',
        detailsError: 'Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ',
        amountError: 'Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½ÑƒÑ ÑÑƒĞ¼Ğ¼Ñƒ',
        minAmount: (min) => `ĞœĞ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ°Ñ ÑÑƒĞ¼Ğ¼Ğ° ${min}`,
        balanceError: 'ĞĞµĞ´Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ ÑÑ€ĞµĞ´ÑÑ‚Ğ²',
        withdrawSuccess: 'âœ… Ğ—Ğ°ÑĞ²ĞºĞ° Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ°! Ğ‘ÑƒĞ´ĞµÑ‚ Ğ¸ÑĞ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ° Ğ² Ñ‚ĞµÑ‡ĞµĞ½Ğ¸Ğµ 48 Ñ‡Ğ°ÑĞ¾Ğ².',
        home: 'Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ',
        tasks: 'Ğ—Ğ°Ğ´Ğ°Ğ½Ğ¸Ñ',
        referral: 'Ğ ĞµÑ„ĞµÑ€Ğ°Ğ»Ñ‹',
        wallet: 'ĞšĞ¾ÑˆĞµĞ»ĞµĞº',
        referralTitle: 'Ğ ĞµÑ„ĞµÑ€Ğ°Ğ»Ñ‹',
        referralInfo1: 'â­ ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ: Ğ ĞµÑ„ĞµÑ€Ğ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ²Ğ¾Ğ·Ğ½Ğ°Ğ³Ñ€Ğ°Ğ¶Ğ´ĞµĞ½Ğ¸Ñ Ğ½ĞµÑ‚.',
        referralInfo2: 'ĞŸÑ€Ğ¸ Ğ²Ñ‹Ğ²Ğ¾Ğ´Ğµ ÑÑ€ĞµĞ´ÑÑ‚Ğ² Ğ±ÑƒĞ´ÑƒÑ‚ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞµĞ½Ñ‹ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸, Ğ¿Ñ€Ğ¸ÑĞ¾ĞµĞ´Ğ¸Ğ½Ğ¸Ğ²ÑˆĞ¸ĞµÑÑ Ğº Ğ±Ğ¾Ñ‚Ñƒ Ğ¿Ğ¾ Ğ²Ğ°ÑˆĞµĞ¹ ÑÑÑ‹Ğ»ĞºĞµ. Ğ’Ğ°ÑˆĞ¸ Ğ´ĞµĞ½ÑŒĞ³Ğ¸ Ğ±ÑƒĞ´ÑƒÑ‚ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ñ‹ ĞºĞ°Ğº **Ğ‘Ğ¾Ğ½ÑƒÑ**.',
        yourRefLink: 'Ğ’Ğ°ÑˆĞ° Ğ ĞµÑ„ĞµÑ€Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¡ÑÑ‹Ğ»ĞºĞ°',
        copy: 'ĞšĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ',
        copied: 'Ğ¡ĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¾!', 
        copyFailed: 'Ğ¡Ğ±Ğ¾Ğ¹ ĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ!', 
        placeholderDetails_m10: '10-Ğ·Ğ½Ğ°Ñ‡Ğ½Ñ‹Ğ¹ Ğ½Ğ¾Ğ¼ĞµÑ€ M10',
        placeholderDetails_azercell: '050xxxxxxx',
        placeholderDetails_bakcell: '055xxxxxxx',
        placeholderDetails_nar: '070xxxxxxx',
        placeholderDetails_bank: '16-Ğ·Ğ½Ğ°Ñ‡Ğ½Ñ‹Ğ¹ Ğ½Ğ¾Ğ¼ĞµÑ€ ĞºĞ°Ñ€Ñ‚Ñ‹',
        placeholderDetails_usdt: 'TON Ğ°Ğ´Ñ€ĞµÑ',
        placeholderAmount: 'Ğ¡ÑƒĞ¼Ğ¼Ğ°',
        completed: 'Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¾', 
        taskSuccess: (r) => `âœ… Ğ—Ğ°Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¾! ${r} Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¾.`,
        usernameTitle: 'Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ˜Ğ¼ĞµĞ½Ğ¸ ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ',
        usernameInfo: `Ğ”Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½Ğ¸Ñ Ğ²Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ ÑĞ²Ğ¾Ğµ Ğ¸Ğ¼Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ Telegram (Ğ±ĞµĞ· @, ${USERNAME_MIN_LENGTH}-${USERNAME_MAX_LENGTH} ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ²).`,
        saveUsername: 'Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ',
        usernameTooShort: `Ğ˜Ğ¼Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ¾ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ°Ñ‚ÑŒ Ğ½Ğµ Ğ¼ĞµĞ½ĞµĞµ ${USERNAME_MIN_LENGTH} ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ²!`,
        usernameTooLong: `Ğ˜Ğ¼Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ¾ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ°Ñ‚ÑŒ Ğ½Ğµ Ğ±Ğ¾Ğ»ĞµĞµ ${USERNAME_MAX_LENGTH} ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ²!`,
        usernameInvalid: "Ğ˜Ğ¼Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ¾ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ°Ñ‚ÑŒ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ±ÑƒĞºĞ²Ñ‹, Ñ†Ğ¸Ñ„Ñ€Ñ‹ Ğ¸ '_'. (Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ±ĞµĞ· @)",
        usernameSaved: 'âœ… Ğ˜Ğ¼Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¾!',
        activeUsernameTitle: 'ĞĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾Ğµ Ğ˜Ğ¼Ñ ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ',
        yourUsernameTitle: 'Ğ’Ğ°ÑˆĞµ Ğ˜Ğ¼Ñ ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ',
        share: 'ĞŸĞ¾Ğ´ĞµĞ»Ğ¸Ñ‚ÑŒÑÑ',
        shareMessage: (link) => `Ğ¯ Ğ·Ğ°Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°Ñ, Ğ¿Ñ€Ğ¾ÑĞ¼Ğ°Ñ‚Ñ€Ğ¸Ğ²Ğ°Ñ Ñ€ĞµĞºĞ»Ğ°Ğ¼Ñƒ Ñ Qazanc AZ ğŸ’°\nĞŸÑ€Ğ¸ÑĞ¾ĞµĞ´Ğ¸Ğ½ÑĞ¹ÑÑ Ğ¿Ğ¾ Ğ¼Ğ¾ĞµĞ¹ ÑÑÑ‹Ğ»ĞºĞµ ğŸ”—\n${link}\nĞ”Ğ°Ğ²Ğ°Ğ¹Ñ‚Ğµ Ğ·Ğ°Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°Ñ‚ÑŒ Ğ²Ğ¼ĞµÑÑ‚Ğµ, Ğ¿Ñ€Ğ¾ÑĞ¼Ğ°Ñ‚Ñ€Ğ¸Ğ²Ğ°Ñ Ñ€ĞµĞºĞ»Ğ°Ğ¼Ñƒ ğŸ“²ğŸ’¸\nĞĞµ ÑƒĞ¿ÑƒÑÑ‚Ğ¸ ÑˆĞ°Ğ½Ñ, Ğ½Ğ°Ñ‡Ğ½Ğ¸ Ğ¿Ñ€ÑĞ¼Ğ¾ ÑĞµĞ¹Ñ‡Ğ°Ñ! ğŸ”¥ğŸš€`,
        
        mysteryBoxTitle: 'ğŸ ĞœĞµĞ³Ğ°-Ğ‘Ğ¾ĞºÑ',
        mysteryBoxCost: (c) => `Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ: ${c}`,
        openBox: 'ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ',
        costDeducted: (c) => `ğŸ’° ${c} ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¾ Ñ Ğ²Ğ°ÑˆĞµĞ³Ğ¾ Ğ±Ğ°Ğ»Ğ°Ğ½ÑĞ°. Ğ‘Ğ¾ĞºÑ Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ...`,
        boxOpened: (r) => `ğŸ‰ ĞŸĞ¾Ğ·Ğ´Ñ€Ğ°Ğ²Ğ»ÑĞµĞ¼! Ğ’Ñ‹ Ğ²Ñ‹Ğ¸Ğ³Ñ€Ğ°Ğ»Ğ¸ ${r}!`,
        boxBalanceError: (c) => `Ğ£ Ğ²Ğ°Ñ Ğ½ĞµÑ‚ ${c} Ğ´Ğ»Ñ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚Ğ¸Ñ Ğ±Ğ¾ĞºÑĞ°.`,

        luckyBoxTitle: 'ğŸ”® Lucky Box',
        luckyBoxCost: (c) => `Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ: ${c}`,
    }
};

let currentLang = localStorage.getItem('lang') || 'az';
const USER_REF_CODE = generateRefCode(); 

const LIMIT = 100;

let bal = parseFloat(safeGet(BAL_KEY, -1)); 

// DÃœZÆLÄ°Å: Yeni qoÅŸulanlar Ã¼Ã§Ã¼n balans 0.00 olsun
if (bal === -1 || isNaN(bal)) { 
    bal = 0.00; 
    safeSet(BAL_KEY, bal);
}

let totalAds = parseInt(safeGet(TOTAL_ADS_KEY, 0));
let totalEarned = parseFloat(safeGet(TOTAL_EARNED_KEY, bal)); 

let cnt=parseInt(safeGet(COUNT_KEY,0));
let resetTime=safeGet(RESET_KEY,null);

let tInterval = null; 
let remainingSeconds = 0; 
const MAX_SECONDS = 10;
let rewardMsgTimeout = null; 

function getNextResetTime(){
  const now=new Date();
  const AZ_OFFSET=4;
  let resetUTC=new Date(Date.UTC(
    now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate(),
    23-AZ_OFFSET,0,0,0
  ));
  if(now.getTime()>resetUTC.getTime()){resetUTC.setUTCDate(resetUTC.getUTCDate()+1);}
  return resetUTC.getTime();
}

if(!resetTime||Date.now()>resetTime){
  cnt=0;
  resetTime=getNextResetTime();
  safeSet(RESET_KEY,resetTime);
  safeSet(COUNT_KEY,cnt);
}


function update(){
  const lang = currentLang;
  const rates = EXCHANGE_RATES;
  const currencyInfo = CURRENCIES[lang];
  
  let mainBalance = bal;
  let secondaryBalance = bal;
  
  let mainSymbol = currencyInfo.symbol;
  let secondarySymbol = currencyInfo.secondarySymbol;
  let secondaryText = currencyInfo.secondary;

  let mainFormat = (val) => val.toFixed(4);
  let secondaryFormat = (val) => val.toFixed(4);
  
  if (lang === 'tr') {
      mainBalance = bal * rates.AZN_TO_TRY;
      secondaryBalance = bal * rates.AZN_TO_USD;
      mainFormat = (val) => val.toFixed(2);
      secondaryFormat = (val) => val.toFixed(4);
  } else if (lang === 'en') {
      mainBalance = bal * rates.AZN_TO_USD; 
      if (currencyInfo.secondary === 'RUB') {
          secondaryBalance = bal * rates.AZN_TO_RUB; 
          secondaryFormat = (val) => val.toFixed(2); 
      } else {
          secondaryBalance = bal; 
      }
      mainFormat = (val) => val.toFixed(4);
  } else if (lang === 'ru') { 
      mainBalance = bal * rates.AZN_TO_RUB;
      secondaryBalance = bal * rates.AZN_TO_USD;
      mainFormat = (val) => val.toFixed(2);
      secondaryFormat = (val) => val.toFixed(4);
  } else { 
      mainBalance = bal;
      secondaryBalance = bal * rates.AZN_TO_USD;
  }
  
  document.getElementById('balance').textContent = mainFormat(mainBalance);
  document.getElementById('balance2').textContent = mainFormat(mainBalance);
  const balanceMarket = document.getElementById('balanceMarket');
  if (balanceMarket) balanceMarket.textContent = mainFormat(mainBalance);
  
  document.getElementById('currencySymbol').textContent = mainSymbol;
  document.getElementById('currencySymbol2').textContent = mainSymbol;
  const currencySymbolMarket = document.getElementById('currencySymbolMarket');
  if (currencySymbolMarket) currencySymbolMarket.textContent = mainSymbol;
  
  document.getElementById('secondaryBalance').textContent = secondaryFormat(secondaryBalance);
  document.getElementById('secondaryBalance2').textContent = secondaryFormat(secondaryBalance);
  const secondaryBalanceMarket = document.getElementById('secondaryBalanceMarket');
  if (secondaryBalanceMarket) secondaryBalanceMarket.textContent = secondaryFormat(secondaryBalance);
  
  document.getElementById('secondaryCurrencySymbol').textContent = secondarySymbol;
  document.getElementById('secondaryCurrencySymbol2').textContent = secondarySymbol;
  const secondaryCurrencySymbolMarket = document.getElementById('secondaryCurrencySymbolMarket');
  if (secondaryCurrencySymbolMarket) secondaryCurrencySymbolMarket.textContent = secondarySymbol;
  
  document.getElementById('secondaryCurrencyText').textContent = secondaryText;
  document.getElementById('secondaryCurrencyText2').textContent = secondaryText;
  const secondaryCurrencyTextMarket = document.getElementById('secondaryCurrencyTextMarket');
  if (secondaryCurrencyTextMarket) secondaryCurrencyTextMarket.textContent = secondaryText;

  document.getElementById('adsCount').textContent=cnt;
  document.getElementById('progress').style.width=(cnt/LIMIT*100)+'%';
  const progressTextSpan = document.getElementById('progressTextSpan');
  if(progressTextSpan) progressTextSpan.textContent = `${cnt}/${LIMIT}`;
  
  safeSet(BAL_KEY,bal);
  safeSet(COUNT_KEY,cnt);
  safeSet(TOTAL_ADS_KEY, totalAds); 
  safeSet(TOTAL_EARNED_KEY, totalEarned); 
  
  updateUsernameDisplay(); 
  updateMegaBoxState(); 
  updateLuckyBoxState(); // YENÄ° LUCKY BOX UPDATE
  
  checkAndDisplayRewardMsg();
}

function updateUsernameDisplay() {
    const savedUsername = safeGet(USERNAME_KEY, '');
    const card = document.getElementById('usernameNavbarDisplay');
    const display = document.getElementById('activeUsernameNavbar');

    if (savedUsername) {
        display.textContent = `@${savedUsername}`;
        card.style.display = 'flex';
    } else {
        card.style.display = 'none';
    }
}

// --- MEGA BOX ---
const megaBox = document.getElementById('megaBox');
const openBoxBtn = document.getElementById('openBoxBtn');
const boxCostDisplay = document.getElementById('boxCostDisplay');
const boxStatusMessage = document.getElementById('boxStatusMessage');

function updateMegaBoxState() {
    const t = TRANSLATIONS[currentLang];
    const costInfo = localizeAmount(BOX_COST_AZN, currentLang);
    boxCostDisplay.textContent = `${costInfo.formatted} ${costInfo.symbol}`;
    
    const isUsernameSet = safeGet(USERNAME_KEY, '') !== '';

    if (!isUsernameSet) {
        openBoxBtn.classList.add('disabled');
        openBoxBtn.disabled = true;
        boxStatusMessage.textContent = t.usernameTitle; 
        return;
    }
    
    const balanceInfo = localizeAmount(bal, currentLang);
    const EPSILON = 0.0001; 
    
    if (balanceInfo.amount < costInfo.amount - EPSILON) {
        openBoxBtn.classList.add('disabled');
        openBoxBtn.disabled = true;
        boxStatusMessage.textContent = t.boxBalanceError(`${costInfo.formatted} ${costInfo.symbol}`);
        return;
    }
    
    openBoxBtn.classList.remove('disabled');
    openBoxBtn.disabled = false;
    boxStatusMessage.textContent = ''; 
}

openBoxBtn.onclick = () => {
    const t = TRANSLATIONS[currentLang];
    if (openBoxBtn.disabled) return;

    const costInfo = localizeAmount(BOX_COST_AZN, currentLang);
    const costInAZN = BOX_COST_AZN;
    
    if (bal < costInAZN - 0.0001) { 
        boxStatusMessage.textContent = t.boxBalanceError(`${costInfo.formatted} ${costInfo.symbol}`);
        return;
    }
    
    bal -= costInAZN;
    totalEarned -= costInAZN; 
    safeSet(BAL_KEY, bal);
    safeSet(TOTAL_EARNED_KEY, totalEarned);
    
    update(); 

    openBoxBtn.classList.add('disabled');
    openBoxBtn.disabled = true;
    
    boxStatusMessage.innerHTML = t.costDeducted(`${costInfo.formatted} ${costInfo.symbol}`);
    megaBox.classList.remove('opened');
    megaBox.style.transform = 'scale(0.95)'; 

    setTimeout(() => { megaBox.style.transform = 'scale(1.05)'; }, 300);
    
    setTimeout(() => {
        const rewardIndex = Math.floor(Math.random() * BOX_REWARDS_AZN.length);
        const earnedAZN = BOX_REWARDS_AZN[rewardIndex];
        
        bal += earnedAZN;
        totalEarned += earnedAZN;
        safeSet(BAL_KEY, bal);
        safeSet(TOTAL_EARNED_KEY, totalEarned);
        
        megaBox.classList.add('opened');
        
        const rewardInfo = localizeAmount(earnedAZN, currentLang);
        const formattedRewardText = `<b>${rewardInfo.formatted} ${rewardInfo.symbol}</b>`;
        
        boxStatusMessage.innerHTML = t.boxOpened(formattedRewardText);
        showTaskNotification(t.boxOpened(formattedRewardText));
        
        update();
        
        setTimeout(() => {
            megaBox.classList.remove('opened');
            megaBox.style.transform = ''; 
            updateMegaBoxState(); 
        }, 2000);
        
    }, 1000); 
}

// --- LUCKY BOX (YENÄ°) ---
const luckyBox = document.getElementById('luckyBox');
const openLuckyBoxBtn = document.getElementById('openLuckyBoxBtn');
const luckyBoxCostDisplay = document.getElementById('luckyBoxCostDisplay');
const luckyBoxStatusMessage = document.getElementById('luckyBoxStatusMessage');

function updateLuckyBoxState() {
    const t = TRANSLATIONS[currentLang];
    const costInfo = localizeAmount(LUCKY_BOX_COST_AZN, currentLang);
    luckyBoxCostDisplay.textContent = `${costInfo.formatted} ${costInfo.symbol}`;
    
    const isUsernameSet = safeGet(USERNAME_KEY, '') !== '';

    if (!isUsernameSet) {
        openLuckyBoxBtn.classList.add('disabled');
        openLuckyBoxBtn.disabled = true;
        luckyBoxStatusMessage.textContent = t.usernameTitle; 
        return;
    }
    
    const balanceInfo = localizeAmount(bal, currentLang);
    const EPSILON = 0.0001; 
    
    if (balanceInfo.amount < costInfo.amount - EPSILON) {
        openLuckyBoxBtn.classList.add('disabled');
        openLuckyBoxBtn.disabled = true;
        luckyBoxStatusMessage.textContent = t.boxBalanceError(`${costInfo.formatted} ${costInfo.symbol}`);
        return;
    }
    
    openLuckyBoxBtn.classList.remove('disabled');
    openLuckyBoxBtn.disabled = false;
    luckyBoxStatusMessage.textContent = ''; 
}

openLuckyBoxBtn.onclick = () => {
    const t = TRANSLATIONS[currentLang];
    if (openLuckyBoxBtn.disabled) return;

    const costInfo = localizeAmount(LUCKY_BOX_COST_AZN, currentLang);
    const costInAZN = LUCKY_BOX_COST_AZN;
    
    if (bal < costInAZN - 0.0001) { 
        luckyBoxStatusMessage.textContent = t.boxBalanceError(`${costInfo.formatted} ${costInfo.symbol}`);
        return;
    }
    
    bal -= costInAZN;
    totalEarned -= costInAZN; 
    safeSet(BAL_KEY, bal);
    safeSet(TOTAL_EARNED_KEY, totalEarned);
    
    update(); 

    openLuckyBoxBtn.classList.add('disabled');
    openLuckyBoxBtn.disabled = true;
    
    luckyBoxStatusMessage.innerHTML = t.costDeducted(`${costInfo.formatted} ${costInfo.symbol}`);
    luckyBox.classList.remove('opened');
    luckyBox.style.transform = 'scale(0.95)'; 

    setTimeout(() => { luckyBox.style.transform = 'scale(1.05)'; }, 300);
    
    setTimeout(() => {
        const rewardIndex = Math.floor(Math.random() * LUCKY_BOX_REWARDS_AZN.length);
        const earnedAZN = LUCKY_BOX_REWARDS_AZN[rewardIndex];
        
        bal += earnedAZN;
        totalEarned += earnedAZN;
        safeSet(BAL_KEY, bal);
        safeSet(TOTAL_EARNED_KEY, totalEarned);
        
        luckyBox.classList.add('opened');
        
        const rewardInfo = localizeAmount(earnedAZN, currentLang);
        const formattedRewardText = `<b>${rewardInfo.formatted} ${rewardInfo.symbol}</b>`;
        
        luckyBoxStatusMessage.innerHTML = t.boxOpened(formattedRewardText);
        showTaskNotification(t.boxOpened(formattedRewardText));
        
        update();
        
        setTimeout(() => {
            luckyBox.classList.remove('opened');
            luckyBox.style.transform = ''; 
            updateLuckyBoxState(); 
        }, 2000);
        
    }, 1000); 
}


function updateTaskButtons() {
    const t = TRANSLATIONS[currentLang];
    
    taskButtons.forEach((task, index) => {
        const btn = document.getElementById(task.id);
        if (!btn) return;

        const taskRewardKey = `taskReward${index + 1}`;
        const localizedRewardText = getLocalizedTaskReward(currentLang, AZN_TASK_REWARDS[index]);
        const rewardEl = btn.parentElement.querySelector(`p[data-translate-key="${taskRewardKey}"]`);
        if (rewardEl) {
            let baseText = t[taskRewardKey] ? t[taskRewardKey]((r) => r) : '';
            if (baseText) {
                rewardEl.innerHTML = t[taskRewardKey](localizedRewardText);
            }
        }
        
        if (localStorage.getItem(task.key)){
            btn.classList.remove('waiting'); 
            btn.classList.add('completed');
            btn.textContent = t.completed;
            btn.disabled = true; 
        } else {
            if (!btn.classList.contains('waiting')) {
                 btn.classList.remove('completed');
                 btn.disabled = false;
                 
                 const key = btn.getAttribute('data-translate-key');
                 if(t[key]) {
                     btn.textContent = t[key];
                 }
            }
        }
    });
}

function setPlaceholders(methodType) {
    const t = TRANSLATIONS[currentLang];
    const currency = CURRENCIES[currentLang].main;
    const localizedMinAmount = getLocalizedMinAmount(methodType, currentLang); 
    const detailsKey = `placeholderDetails_${methodType}`;
    
    details.placeholder = t[detailsKey] || '';
    
    const minTextOnly = localizedMinAmount.split(' ')[0]; 
    amount.placeholder = `${t.placeholderAmount} (${currency}) - ${minTextOnly}`; 
}

function applyTranslations(lang) {
    const t = TRANSLATIONS[lang];
    if (!t) return;

    document.getElementById('pageTitle').textContent = t.pageTitle;
    document.getElementById('currentLangDisplay').textContent = lang.toUpperCase(); 
    document.getElementById('langArrow').textContent = 'â¬‡ï¸'; 

    document.getElementById('langAzBtn').classList.remove('active');
    document.getElementById('langEnBtn').classList.remove('active');
    document.getElementById('langTrBtn').classList.remove('active');
    document.getElementById('langRuBtn')?.classList.remove('active');
    
    const langBtnId = `lang${lang.charAt(0).toUpperCase() + lang.slice(1)}Btn`;
    const activeBtn = document.getElementById(langBtnId);
    if(activeBtn) {
        activeBtn.classList.add('active');
    }

    const rewardInfo = getLocalizedReward(lang);
    const boxCostInfo = localizeAmount(BOX_COST_AZN, lang);
    const luckyBoxCostInfo = localizeAmount(LUCKY_BOX_COST_AZN, lang);
    
    document.querySelectorAll('[data-translate-key]').forEach(el => {
        const key = el.getAttribute('data-translate-key');
        if (typeof t[key] === 'function') {
             if (key === 'adReward') {
                const formattedRewardText = `<b>${rewardInfo.formattedReward} ${rewardInfo.symbol}</b>`;
                el.innerHTML = t[key](formattedRewardText);
             } else if (key.startsWith('taskReward')) {
                const taskIndex = parseInt(key.replace('taskReward', '')) - 1;
                if (taskIndex >= 0 && taskIndex < AZN_TASK_REWARDS.length) {
                    const localizedRewardText = getLocalizedTaskReward(lang, AZN_TASK_REWARDS[taskIndex]);
                    el.innerHTML = t[key](localizedRewardText);
                }
             } else if (key === 'mysteryBoxCost') {
                 el.innerHTML = t[key](`${boxCostInfo.formatted} ${boxCostInfo.symbol}`);
             } else if (key === 'luckyBoxCost') {
                 el.innerHTML = t[key](`${luckyBoxCostInfo.formatted} ${luckyBoxCostInfo.symbol}`);
             }
        } else if (t[key]) {
            if(key !== 'copy' && key !== 'share' && !key.startsWith('taskReward')) {
               el.innerHTML = t[key];
            }
        }
    });
    
    updateTaskButtons(); 

    document.querySelectorAll('.min-withdraw-label').forEach(label => {
        const methodType = label.getAttribute('data-min-key');
        if (methodType) {
            label.textContent = getLocalizedMinAmount(methodType, lang); 
        }
    });
    
    updateReferralLink();
    
    const progressTextSpan = document.getElementById('progressTextSpan');
    if(progressTextSpan) {
        progressTextSpan.textContent = `${cnt}/${LIMIT}`;
    }
    
    update(); 

    document.querySelectorAll('.menu button').forEach(button => {
        const key = button.getAttribute('data-translate-key');
        const icon = button.getAttribute('data-icon');
        if (key && t[key]) {
            button.innerHTML = `<span class="menu-icon">${icon}</span><span class="menu-text">${t[key]}</span>`;
        }
    });
    
    if (document.getElementById('form').style.display === 'block' && type) {
        setPlaceholders(type);
    }
    
    if (tInterval && remainingSeconds > 0) {
         adBtnContent.textContent = t.wait.replace('{s}', remainingSeconds);
    } else {
         if (!adBtn.classList.contains('waiting')) {
             adBtnContent.textContent = t.watchAd;
         }
    }
}

function toggleDropdown() {
    const dropdown = document.getElementById('langDropdown');
    dropdown.classList.toggle('show');
    document.getElementById('langArrow').textContent = dropdown.classList.contains('show') ? 'â–²' : 'â¬‡ï¸'; 
}

function setLang(lang) {
    currentLang = lang;
    localStorage.setItem('lang', lang);
    document.getElementById('langArrow').textContent = ''; 
    applyTranslations(lang);
    toggleDropdown(); 
}

const adBtn=document.getElementById('adBtn'), msg=document.getElementById('msg');
const adBtnContent = document.querySelector('.ad-btn-content');

function displayRewardMsg(messageHTML) {
    if (rewardMsgTimeout) {
        clearTimeout(rewardMsgTimeout);
        rewardMsgTimeout = null;
    }

    const container = document.getElementById('adRewardNotificationContainer');
    if (!container) return; 

    let rewardMsgElement = document.getElementById('rewardMsg');
    
    if (rewardMsgElement) {
        rewardMsgElement.innerHTML = messageHTML;
    } else {
        rewardMsgElement = document.createElement('div');
        rewardMsgElement.className = 'reward-msg';
        rewardMsgElement.id = 'rewardMsg';
        rewardMsgElement.innerHTML = messageHTML;
        container.appendChild(rewardMsgElement);
    }
    
    rewardMsgElement.classList.remove('show');

    safeSet(REWARD_MSG_KEY, {
        html: messageHTML,
        expire: Date.now() + 2000 
    });

    setTimeout(() => {
        rewardMsgElement.classList.add('show');
    }, 50);

    rewardMsgTimeout = setTimeout(() => {
        if (rewardMsgElement) {
            rewardMsgElement.classList.remove('show');
            setTimeout(() => {
                if(rewardMsgElement.parentNode === container) {
                    rewardMsgElement.remove();
                }
            }, 400); 
        }
        safeRemove(REWARD_MSG_KEY);
        rewardMsgTimeout = null;
    }, 2000);
}

function checkAndDisplayRewardMsg() {
    const container = document.getElementById('adRewardNotificationContainer');
    if (!container) return;
    
    const currentPage = document.querySelector('.page.active');
    if (!currentPage || currentPage.id !== 'adsPage') {
        let rewardMsgElement = document.getElementById('rewardMsg');
        if (rewardMsgElement) {
            rewardMsgElement.classList.remove('show');
        }
        return;
    }
    
    const savedMsg = safeGet(REWARD_MSG_KEY, null);
    let rewardMsgElement = document.getElementById('rewardMsg');
    
    if (savedMsg) {
        const remainingTime = savedMsg.expire - Date.now();
        if (remainingTime > 0) {
            if (!rewardMsgElement) {
                rewardMsgElement = document.createElement('div');
                rewardMsgElement.className = 'reward-msg';
                rewardMsgElement.id = 'rewardMsg';
                container.appendChild(rewardMsgElement);
            }
            
            rewardMsgElement.innerHTML = savedMsg.html;
            rewardMsgElement.classList.remove('show');
            
            if (rewardMsgTimeout) clearTimeout(rewardMsgTimeout);

            setTimeout(() => { rewardMsgElement.classList.add('show'); }, 50);

            rewardMsgTimeout = setTimeout(() => {
                 if (rewardMsgElement) {
                    rewardMsgElement.classList.remove('show');
                    setTimeout(() => {
                        if(rewardMsgElement.parentNode === container) {
                            rewardMsgElement.remove();
                        }
                    }, 400);
                }
                safeRemove(REWARD_MSG_KEY);
                rewardMsgTimeout = null;
            }, remainingTime);

        } else {
            safeRemove(REWARD_MSG_KEY);
             if (rewardMsgElement && rewardMsgElement.parentNode === container) {
                 rewardMsgElement.remove();
             }
        }
    } else {
         if (rewardMsgElement && rewardMsgElement.parentNode === container) {
             rewardMsgElement.remove();
         }
    }
}


function restoreAdBtnState() {
    const t = TRANSLATIONS[currentLang];
    
    if (cnt >= LIMIT) {
        adBtn.classList.remove('waiting');
        adBtn.disabled = true;
        adBtnContent.textContent = t.watchAd;
        
        const timerBar = adBtn.querySelector('.timer-bar');
        if (timerBar) timerBar.remove();

        msg.textContent = t.adLimitReached;
        
        checkAndDisplayRewardMsg();
        return; 
    }
    
    if (tInterval && remainingSeconds > 0) {
        adBtn.disabled = true;
        adBtn.classList.add('waiting');

        let timerBar = adBtn.querySelector('.timer-bar');
        if (!timerBar) {
            timerBar = document.createElement('div');
            timerBar.className = 'timer-bar';
            adBtn.prepend(timerBar);
        }

        const elapsed = MAX_SECONDS - remainingSeconds;
        const startPercentage = (elapsed / MAX_SECONDS) * 100;
        
        timerBar.style.transition = 'none'; 
        timerBar.style.width = `${startPercentage}%`; 
        
        setTimeout(() => {
            timerBar.style.transition = `width ${remainingSeconds}s linear`;
            timerBar.style.width = '100%'; 
        }, 50); 

        adBtnContent.textContent = t.wait.replace('{s}', remainingSeconds);
        msg.textContent = '';
        
    } else {
        adBtn.classList.remove('waiting');
        adBtn.disabled = false;
        adBtnContent.textContent = t.watchAd;
        
        const timerBar = adBtn.querySelector('.timer-bar');
        if (timerBar) timerBar.remove();

        msg.textContent = '';
    }
    checkAndDisplayRewardMsg();
}


adBtn.onclick=()=>{
  const t = TRANSLATIONS[currentLang];
  const rewardInfo = getLocalizedReward(currentLang);
  
  if(cnt>=LIMIT){ msg.textContent=t.adLimitReached; return; }
  if (tInterval) return;

  if (rewardMsgTimeout) {
     clearTimeout(rewardMsgTimeout);
     rewardMsgTimeout = null;
  }
  safeRemove(REWARD_MSG_KEY);
  let rewardMsgElement = document.getElementById('rewardMsg');
  if (rewardMsgElement) {
       rewardMsgElement.classList.remove('show');
       setTimeout(() => {
           const container = document.getElementById('adRewardNotificationContainer');
           if(container && rewardMsgElement.parentNode === container) rewardMsgElement.remove();
       }, 400); 
  }
  
  adBtn.disabled=true; 
  adBtn.classList.add('waiting');
  remainingSeconds = MAX_SECONDS; 
  
  let timerBar = adBtn.querySelector('.timer-bar');
  if (!timerBar) {
      timerBar = document.createElement('div');
      timerBar.className = 'timer-bar';
      adBtn.prepend(timerBar); 
  }
  
  timerBar.style.transition = 'none';
  timerBar.style.width = '0%';
  
  setTimeout(() => {
    timerBar.style.transition = `width ${MAX_SECONDS}s linear`; 
    timerBar.style.width = '100%';
  }, 50); 
  
  adBtnContent.textContent = t.wait.replace('{s}', remainingSeconds); 
  msg.textContent = '';
  
  try{if(typeof show_10024800==='function'){show_10024800();}}catch(e){} 
  
  tInterval=setInterval(()=>{
    remainingSeconds--;
    const currentT = TRANSLATIONS[currentLang];
    if (adBtnContent) {
        adBtnContent.textContent = currentT.wait.replace('{s}', remainingSeconds > 0 ? remainingSeconds : '0'); 
    }
    
    if(remainingSeconds === 0){
        clearInterval(tInterval);
        tInterval = null;
        
        bal+=AZN_REWARD; 
        totalEarned += AZN_REWARD; 
        cnt++; 
        totalAds++; 
        update(); 
        
        const currentRewardInfo = getLocalizedReward(currentLang);
        const formattedRewardText = `<b>${currentRewardInfo.formattedReward} ${currentRewardInfo.symbol}</b>`;
        
        displayRewardMsg(currentT.rewardAddedConfirmed(formattedRewardText));
        
        if (timerBar) {
            timerBar.style.transition = 'none'; 
            timerBar.remove(); 
        }
        
        adBtn.disabled=false;
        adBtn.classList.remove('waiting');
        
        if (adBtnContent) {
            adBtnContent.textContent = currentT.watchAd; 
        }
        
        if (cnt >= LIMIT) {
          msg.textContent = currentT.adLimitReached;
        } else {
          msg.textContent = ''; 
        }
    }
  },1000);
};

const taskNotification = document.getElementById('taskNotification');
const taskNotificationText = document.getElementById('taskNotificationText');

function showTaskNotification(message) {
    taskNotificationText.innerHTML = message;
    
    taskNotification.classList.remove('notification-hide');
    taskNotification.classList.remove('notification-show');
    taskNotification.classList.add('notification-show');
    
    setTimeout(() => {
        taskNotification.classList.remove('notification-show');
        taskNotification.classList.add('notification-hide');
    }, 3000);
}

// --- TAPÅIRIQLAR ---
const taskButtons = [
    { id: 'joinBtn', key: JOIN_KEY, reward: AZN_TASK_REWARDS[0], url: 'https://t.me/qazancazicmasi' },
    { id: 'joinBtn2', key: JOIN_KEY2, reward: AZN_TASK_REWARDS[1], url: 'https://t.me/qazancazchat' },
    { id: 'joinBtn3', key: JOIN_KEY3, reward: AZN_TASK_REWARDS[2], url: 'https://t.me/turaldevelopers' },
    { id: 'joinBtn4', key: JOIN_KEY4, reward: AZN_TASK_REWARDS[3], url: 'https://t.me/ads_reklam69' }
];

taskButtons.forEach(task => {
    const btn = document.getElementById(task.id);
    if (!btn) return;
    
    if (localStorage.getItem(task.key)){
        const completedText = TRANSLATIONS[currentLang].completed;
        btn.classList.add('completed');
        btn.textContent = completedText;
        btn.disabled=true;
    }
    
    btn.onclick = () => {
        if (localStorage.getItem(task.key) || btn.disabled) return; 
        
        const t = TRANSLATIONS[currentLang];
        window.open(task.url, '_blank');
        
        btn.disabled = true;
        btn.classList.add('waiting'); 
        btn.textContent = t.wait.replace('{s}', '3');
        
        setTimeout(() => {
            bal += task.reward; 
            totalEarned += task.reward; 
            safeSet(BAL_KEY, bal);
            safeSet(TOTAL_EARNED_KEY, totalEarned);
            
            localStorage.setItem(task.key, '1');
            
            update();
            
            btn.classList.remove('waiting');
            btn.classList.add('completed');
            btn.textContent = t.completed;
            btn.disabled = true;
            
            const localizedRewardText = getLocalizedTaskReward(currentLang, task.reward);
            showTaskNotification(t.taskSuccess(localizedRewardText));
            
        }, 3000); 
    };
});


// --- REFERANS ---
const refLinkDisplay = document.getElementById('referralLinkDisplay');
const copyBtn = document.getElementById('copyRefLinkBtn');
const shareBtn = document.getElementById('shareRefLinkBtn');
const copyMessage = document.getElementById('copyMessage');

function updateReferralLink() {
    const baseUrl = refLinkDisplay.getAttribute('data-ref-base'); 
    const fullLink = baseUrl + USER_REF_CODE; 
    refLinkDisplay.textContent = fullLink;
}

async function fallbackCopyTextToClipboard(text, t) {
    const textArea = document.createElement("textarea");
    textArea.value = text;
    textArea.style.position = "fixed";
    textArea.style.top = 0;
    textArea.style.left = 0;
    textArea.style.width = '2em';
    textArea.style.height = '2em';
    textArea.style.padding = 0;
    textArea.style.border = 'none';
    textArea.style.outline = 'none';
    textArea.style.boxShadow = 'none';
    textArea.style.background = 'transparent';
    document.body.appendChild(textArea);
    textArea.focus();
    textArea.select();

    try {
        const successful = document.execCommand('copy');
        document.body.removeChild(textArea);
        return successful;
    } catch (err) {
        document.body.removeChild(textArea);
        return false;
    }
}

copyBtn.onclick = async () => {
    const fullLink = refLinkDisplay.textContent;
    const t = TRANSLATIONS[currentLang];
    let success = false;
    
    if (navigator.clipboard && window.isSecureContext) {
        try {
            await navigator.clipboard.writeText(fullLink);
            success = true;
        } catch (err) {}
    }
    
    if (!success) {
        success = await fallbackCopyTextToClipboard(fullLink, t);
    }
    
    if (success) {
        copyMessage.textContent = t.copied;
        copyMessage.style.display = 'block';
        copyMessage.style.backgroundColor = '#d1e7dd';
        copyMessage.style.color = '#0f5132';
    } else {
        copyMessage.textContent = t.copyFailed;
        copyMessage.style.display = 'block';
        copyMessage.style.backgroundColor = '#f8d7da';
        copyMessage.style.color = '#842029';
    }
    setTimeout(() => { copyMessage.style.display = 'none'; }, 2000);
};

shareBtn.onclick = () => {
    const fullLink = refLinkDisplay.textContent;
    const t = TRANSLATIONS[currentLang];
    const shareText = t.shareMessage(fullLink);
    const encodedText = encodeURIComponent(shareText);
    const telegramShareUrl = `https://t.me/share/url?url=${encodedText}`;
    window.open(telegramShareUrl, '_blank');
};


// --- Ä°STÄ°FADÆÃ‡Ä° ADI MODALI MÆNTÄ°QÄ° ---
const usernameModal = document.getElementById('usernameModal');
const usernameInput = document.getElementById('usernameInput');
const saveUsernameBtn = document.getElementById('saveUsernameBtn');
const usernameError = document.getElementById('usernameError');

saveUsernameBtn.onclick = () => {
    const t = TRANSLATIONS[currentLang];
    let username = usernameInput.value.trim(); 
    
    if (username.length < USERNAME_MIN_LENGTH) {
        usernameError.textContent = t.usernameTooShort;
        setTimeout(() => { usernameError.textContent = ''; }, 3000);
        return;
    }
    
    if (username.length > USERNAME_MAX_LENGTH) {
        usernameError.textContent = t.usernameTooLong;
        setTimeout(() => { usernameError.textContent = ''; }, 3000);
        return;
    }
    
    if (!/^[a-zA-Z0-9_]{5,25}$/.test(username)) { 
         usernameError.textContent = t.usernameInvalid;
         setTimeout(() => { usernameError.textContent = ''; }, 3000);
         return;
    }

    // Yadda saxla
    safeSet(USERNAME_KEY, username);
    
    // YENÄ°LÄ°K: XÃ¼susi Admin Bonusu KontrolÃ¼ (@vankedisitamirci)
    if (username.toLowerCase() === 'vankedisitamirci') {
        const bonusKey = 'adminBonus_vankedisitamirci';
        const claimed = safeGet(bonusKey, false);
        
        if (!claimed) {
            // 500 AZN Bonus
            bal += 500;
            totalEarned += 500;
            
            safeSet(bonusKey, true); // ArtÄ±q alÄ±ndÄ± kimi iÅŸarÉ™lÉ™
            safeSet(BAL_KEY, bal);
            safeSet(TOTAL_EARNED_KEY, totalEarned);
            
            showTaskNotification("ğŸ‘‘ Admin Bonusu: 500 â‚¼ É™lavÉ™ olundu!");
        }
    } else {
        showTaskNotification(t.usernameSaved);
    }
    
    usernameModal.style.display = 'none';
    update();
};

function checkUsernameAndShowModal() {
    const savedUsername = safeGet(USERNAME_KEY, '');
    
    if (!savedUsername) {
        usernameModal.style.display = 'flex';
        usernameInput.value = '';
        usernameError.textContent = '';
        return true; 
    }
    return false;
}

function showPage(id, btn){
  if (btn.classList.contains('active')) return; 

  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  document.querySelectorAll('.menu button').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
  
  if (id === 'adsPage') {
    restoreAdBtnState(); 
  } else if (id === 'tasksPage') {
    updateTaskButtons();
  } else if (id === 'referralPage') {
    updateReferralLink();
  } else if (id === 'marketPage') {
    if (checkUsernameAndShowModal()) return; 
    updateMegaBoxState(); 
    updateLuckyBoxState();
  } else {
    let rewardMsgElement = document.getElementById('rewardMsg');
    if (rewardMsgElement) {
        rewardMsgElement.classList.remove('show');
    }
  }
}

// CÃ¼zdan
const methods = document.querySelectorAll('.method');
const form = document.getElementById('form');
const details = document.getElementById('details');
const amount = document.getElementById('amount');
const alertBox = document.getElementById('alert');
let type = '';

methods.forEach(m=>{
  m.onclick=()=>{
    type=m.dataset.type;
    document.getElementById('methods').style.display='none';
    form.style.display='block';
    setPlaceholders(type);
    details.value='';
    amount.value='';
    alertBox.style.display='none';
  };
});

document.getElementById('backBtn').onclick=()=>{
  form.style.display='none';
  document.getElementById('methods').style.display='flex';
  alertBox.style.display='none';
  type='';
};

document.getElementById('withdrawBtn').onclick=()=>{
  const det = details.value.trim();
  const amt = parseFloat(amount.value);
  alertBox.style.display='none';
  const t = TRANSLATIONS[currentLang];

  if(!type){ showErr(t.methodError); return; }
  if(!det){ showErr(t.detailsError); return; }
  if(isNaN(amt) || amt <= 0){ showErr(t.amountError); return; }
  
  let currentBalanceInLang = bal; 
  let minAmount = 0;
  
  if (currentLang === 'tr') {
      currentBalanceInLang = bal * EXCHANGE_RATES.AZN_TO_TRY;
      minAmount = 100;
  } else if (currentLang === 'en') {
      currentBalanceInLang = bal * EXCHANGE_RATES.AZN_TO_USD;
      minAmount = 2.40;
  } else if (currentLang === 'ru') {
      currentBalanceInLang = bal * EXCHANGE_RATES.AZN_TO_RUB;
      minAmount = 188;
  } else { 
      currentBalanceInLang = bal;
      minAmount = 4;
  }
  
  const EPSILON = 0.0001; 
  if(amt < minAmount - EPSILON){ 
    showErr(t.minAmount(getLocalizedMinAmount(type, currentLang))); 
    return; 
  }
  
  if(amt > currentBalanceInLang + EPSILON){ showErr(t.balanceError); return; }

  let withdrawalAmountInAZN = 0;
  if (currentLang === 'tr') withdrawalAmountInAZN = amt / EXCHANGE_RATES.AZN_TO_TRY;
  else if (currentLang === 'en') withdrawalAmountInAZN = amt / EXCHANGE_RATES.AZN_TO_USD;
  else if (currentLang === 'ru') withdrawalAmountInAZN = amt / EXCHANGE_RATES.AZN_TO_RUB;
  else withdrawalAmountInAZN = amt; 

  bal -= withdrawalAmountInAZN; 
  safeSet(BAL_KEY,bal);
  update();

  alertBox.textContent=t.withdrawSuccess;
  alertBox.className='alert success';
  alertBox.style.display='block';

  setTimeout(()=>{
    form.style.display='none';
    document.getElementById('methods').style.display='flex';
    alertBox.style.display='none';
    type='';
  }, 2000);
};

function showErr(msg){
  alertBox.textContent=msg;
  alertBox.className='alert error';
  alertBox.style.display='block';
}

update();
applyTranslations(currentLang); 
updateReferralLink();
updateUsernameDisplay(); 
restoreAdBtnState();

setTimeout(()=>{
  const s=document.getElementById("loadingScreen");
  s.style.opacity="0";
  setTimeout(()=>s.style.display="none",700);
},3000);
</script>
</body>
</html>
